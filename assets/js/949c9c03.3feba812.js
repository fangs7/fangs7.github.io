"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[5272],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>m});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var i=r.createContext({}),p=function(e){var t=r.useContext(i),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},u=function(e){var t=p(e.components);return r.createElement(i.Provider,{value:t},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},k=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,s=e.originalType,i=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),c=p(n),k=a,m=c["".concat(i,".").concat(k)]||c[k]||d[k]||s;return n?r.createElement(m,l(l({ref:t},u),{},{components:n})):r.createElement(m,l({ref:t},u))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var s=n.length,l=new Array(s);l[0]=k;var o={};for(var i in t)hasOwnProperty.call(t,i)&&(o[i]=t[i]);o.originalType=e,o[c]="string"==typeof e?e:a,l[1]=o;for(var p=2;p<s;p++)l[p]=n[p];return r.createElement.apply(null,l)}return r.createElement.apply(null,n)}k.displayName="MDXCreateElement"},4811:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>i,contentTitle:()=>l,default:()=>d,frontMatter:()=>s,metadata:()=>o,toc:()=>p});var r=n(7462),a=(n(7294),n(3905));const s={},l=void 0,o={unversionedId:"Vue\u9879\u76ee\u7b14\u8bb0/\u7535\u5546\u9879\u76ee\u77e5\u8bc6\u70b9",id:"Vue\u9879\u76ee\u7b14\u8bb0/\u7535\u5546\u9879\u76ee\u77e5\u8bc6\u70b9",title:"\u7535\u5546\u9879\u76ee\u77e5\u8bc6\u70b9",description:"1.\u5728main.js \u6587\u4ef6\u4e2d\u5f15\u5165\u5168\u5c40\u7ec4\u4ef6\uff0c\uff0c\uff0cimport.......  \u8fd8\u8981\u7528\u4e0a Vue.component(\u5168\u5c40\u7ec4\u4ef6\u7684\u540d\u5b57\uff08XXXX.name\uff09,\u54ea\u4e00\u4e2a\u7ec4\u4ef6\uff08XXXX\uff09)",source:"@site/docs/7-Vue\u9879\u76ee\u7b14\u8bb0/1-\u7535\u5546\u9879\u76ee\u77e5\u8bc6\u70b9.md",sourceDirName:"7-Vue\u9879\u76ee\u7b14\u8bb0",slug:"/Vue\u9879\u76ee\u7b14\u8bb0/\u7535\u5546\u9879\u76ee\u77e5\u8bc6\u70b9",permalink:"/docs/Vue\u9879\u76ee\u7b14\u8bb0/\u7535\u5546\u9879\u76ee\u77e5\u8bc6\u70b9",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/7-Vue\u9879\u76ee\u7b14\u8bb0/1-\u7535\u5546\u9879\u76ee\u77e5\u8bc6\u70b9.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Tutorial Intro",permalink:"/docs/intro"},next:{title:"\u4e00\u3001\u767b\u5f55\u4e1a\u52a1\uff08\u8de8\u57df\u95ee\u9898\u4fee\u6539\u914d\u7f6e\uff09",permalink:"/docs/Vue\u9879\u76ee\u7b14\u8bb0/\u540e\u53f0\u7ba1\u7406\u7cfb\u7edf\u77e5\u8bc6\u70b9"}},i={},p=[{value:"\u7b2c\u4e00\u79cd\u89e3\u51b3\u65b9\u6848\uff0c",id:"\u7b2c\u4e00\u79cd\u89e3\u51b3\u65b9\u6848",level:3},{value:"2:Swiper\u5728Vue\u9879\u76ee\u4e2d\u4f7f\u7528\u5b8c\u7f8e\u89e3\u51b3\u65b9\u6848",id:"2swiper\u5728vue\u9879\u76ee\u4e2d\u4f7f\u7528\u5b8c\u7f8e\u89e3\u51b3\u65b9\u6848",level:3},{value:"search\u7ec4\u4ef6\u52a8\u6001\u83b7\u53d6\u6570\u636e",id:"search\u7ec4\u4ef6\u52a8\u6001\u83b7\u53d6\u6570\u636e",level:3},{value:"\u6839\u636e\u4e0d\u540c\u53c2\u6570\u52a8\u6001\u83b7\u53d6\u6570\u636e\u8fdb\u884c\u5c55\u793a",id:"\u6839\u636e\u4e0d\u540c\u53c2\u6570\u52a8\u6001\u83b7\u53d6\u6570\u636e\u8fdb\u884c\u5c55\u793a",level:3},{value:"\u70b9\u51fb\u4e09\u7ea7\u5217\u8868\u6216\u8005\u8fdb\u884c\u641c\u7d22\u83b7\u53d6\u6570\u636e",id:"\u70b9\u51fb\u4e09\u7ea7\u5217\u8868\u6216\u8005\u8fdb\u884c\u641c\u7d22\u83b7\u53d6\u6570\u636e",level:3},{value:"\u5904\u7406\u9762\u5305\u5c51\u95ee\u9898",id:"\u5904\u7406\u9762\u5305\u5c51\u95ee\u9898",level:3},{value:"\u4e09\u7ea7\u5217\u8868\u751f\u6210\u7684\u9762\u5305\u5c51",id:"\u4e09\u7ea7\u5217\u8868\u751f\u6210\u7684\u9762\u5305\u5c51",level:5},{value:"\u5173\u952e\u5b57\u751f\u6210\u7684\u9762\u5305\u5c51",id:"\u5173\u952e\u5b57\u751f\u6210\u7684\u9762\u5305\u5c51",level:5},{value:"\u54c1\u724c\u751f\u6210\u7684\u9762\u5305\u5c51",id:"\u54c1\u724c\u751f\u6210\u7684\u9762\u5305\u5c51",level:5},{value:"\u5546\u54c1\u53c2\u6570\u751f\u6210\u7684\u9762\u5305\u5c51\uff08\u8fd9\u91cc\u7684\u6570\u636e\u8981\u653e\u5728\u6570\u7ec4\u91cc\uff09",id:"\u5546\u54c1\u53c2\u6570\u751f\u6210\u7684\u9762\u5305\u5c51\u8fd9\u91cc\u7684\u6570\u636e\u8981\u653e\u5728\u6570\u7ec4\u91cc",level:5},{value:"\u6392\u5e8f\u95ee\u9898",id:"\u6392\u5e8f\u95ee\u9898",level:3},{value:"\u552e\u5356\u5c5e\u6027\u7684class\u5c5e\u6027\u52a8\u6001\u70b9\u51fb\u53d8\u5316",id:"\u552e\u5356\u5c5e\u6027\u7684class\u5c5e\u6027\u52a8\u6001\u70b9\u51fb\u53d8\u5316",level:3},{value:"\u653e\u5927\u955czoom\u548cimageList\u7ec4\u4ef6",id:"\u653e\u5927\u955czoom\u548cimagelist\u7ec4\u4ef6",level:3},{value:"1.\u70b9\u51fb\u54ea\u4e2a\u8f6e\u64ad\u56fe\u54ea\u4e2a\u8f6e\u64ad\u56fe\u5c31\u6709\u9ad8\u4eae\u6548\u679c<strong>\uff08\u548c\u4e0a\u9762\u7684\u4e09\u7ea7\u5217\u8868\u7c7b\u4f3c\uff09</strong>",id:"1\u70b9\u51fb\u54ea\u4e2a\u8f6e\u64ad\u56fe\u54ea\u4e2a\u8f6e\u64ad\u56fe\u5c31\u6709\u9ad8\u4eae\u6548\u679c\u548c\u4e0a\u9762\u7684\u4e09\u7ea7\u5217\u8868\u7c7b\u4f3c",level:5},{value:"2.\u4f7f\u7528\u5168\u5c40\u65f6\u95f4\u603b\u7ebf\u901a\u77e5zoom\u7ec4\u4ef6\u5c55\u793a\u70b9\u51fb\u7684\u5927\u56fe",id:"2\u4f7f\u7528\u5168\u5c40\u65f6\u95f4\u603b\u7ebf\u901a\u77e5zoom\u7ec4\u4ef6\u5c55\u793a\u70b9\u51fb\u7684\u5927\u56fe",level:5},{value:"3.\u653e\u5927\u955c\u6548\u679c",id:"3\u653e\u5927\u955c\u6548\u679c",level:5},{value:"\u5546\u54c1\u6570\u52a0\u4e00\u51cf\u4e00\u4ee5\u53ca\u7528\u6237\u8f93\u5165\u6570\u91cf",id:"\u5546\u54c1\u6570\u52a0\u4e00\u51cf\u4e00\u4ee5\u53ca\u7528\u6237\u8f93\u5165\u6570\u91cf",level:3},{value:"\u5728\u8be6\u60c5\u7ec4\u4ef6\u70b9\u51fb\u52a0\u5165\u8d2d\u7269\u8f66\u6309\u94ae\u8981\u6dfb\u52a0\u7684\u4e8b\u4ef6",id:"\u5728\u8be6\u60c5\u7ec4\u4ef6\u70b9\u51fb\u52a0\u5165\u8d2d\u7269\u8f66\u6309\u94ae\u8981\u6dfb\u52a0\u7684\u4e8b\u4ef6",level:3},{value:"\u5411\u52a0\u5165\u8d2d\u7269\u8f66\u6210\u529f\u7ec4\u4ef6\u4f20\u9012\u53c2\u6570",id:"\u5411\u52a0\u5165\u8d2d\u7269\u8f66\u6210\u529f\u7ec4\u4ef6\u4f20\u9012\u53c2\u6570",level:3},{value:"\u8bbe\u7f6e\u52a0\u5165\u8d2d\u7269\u8f66\u6210\u529f\u7684\u4e24\u4e2a\u6309\u94ae",id:"\u8bbe\u7f6e\u52a0\u5165\u8d2d\u7269\u8f66\u6210\u529f\u7684\u4e24\u4e2a\u6309\u94ae",level:3},{value:"1.\u6e38\u5ba2\u8eab\u4efd\u83b7\u53d6\u8d2d\u7269\u8f66\u6570\u636e",id:"1\u6e38\u5ba2\u8eab\u4efd\u83b7\u53d6\u8d2d\u7269\u8f66\u6570\u636e",level:3},{value:"2.\u670d\u52a1\u5668\u53ef\u4ee5\u8fd4\u56de\u6570\u636e\u4e86\uff0c\u5c31\u9700\u8981\u4ed3\u5e93\u5b58\u50a8\uff0c\u7ec4\u4ef6\u83b7\u53d6\uff0c\u52a8\u6001\u5c55\u793a",id:"2\u670d\u52a1\u5668\u53ef\u4ee5\u8fd4\u56de\u6570\u636e\u4e86\u5c31\u9700\u8981\u4ed3\u5e93\u5b58\u50a8\u7ec4\u4ef6\u83b7\u53d6\u52a8\u6001\u5c55\u793a",level:3},{value:"3.\u8d2d\u7269\u8f66\u5546\u54c1\u6570\u91cf\u52a0\u51cf\u81ea\u5b9a\u4e49\u3010\u8981\u4f7f\u7528\u8282\u6d41\u3011",id:"3\u8d2d\u7269\u8f66\u5546\u54c1\u6570\u91cf\u52a0\u51cf\u81ea\u5b9a\u4e49\u8981\u4f7f\u7528\u8282\u6d41",level:3},{value:"4.\u8d2d\u7269\u8f66\u67d0\u4ea7\u54c1\u5220\u9664\u6309\u94ae",id:"4\u8d2d\u7269\u8f66\u67d0\u4ea7\u54c1\u5220\u9664\u6309\u94ae",level:3},{value:"5.\u4fee\u6539\u4ea7\u54c1\u7684\u52fe\u9009\u72b6\u6001",id:"5\u4fee\u6539\u4ea7\u54c1\u7684\u52fe\u9009\u72b6\u6001",level:3},{value:"6.\u5220\u9664\u9009\u4e2d\u7684\u5546\u54c1",id:"6\u5220\u9664\u9009\u4e2d\u7684\u5546\u54c1",level:3},{value:"7.\u5168\u9009\u6309\u94ae\u7684\u52fe\u9009",id:"7\u5168\u9009\u6309\u94ae\u7684\u52fe\u9009",level:3},{value:"\u4e00\u3001\u6ce8\u518c\uff08\u8868\u5355\u9a8c\u8bc1\u540e\u9762\u518d\u8bf4\uff09",id:"\u4e00\u6ce8\u518c\u8868\u5355\u9a8c\u8bc1\u540e\u9762\u518d\u8bf4",level:2},{value:"\u4e8c\u3001\u767b\u5f55",id:"\u4e8c\u767b\u5f55",level:2},{value:"\u4e09\u3001\u767b\u5f55\u4e4b\u540e\u5728header\u7ec4\u4ef6\u52a8\u6001\u5c55\u793a\u7528\u6237\u7684\u4fe1\u606f",id:"\u4e09\u767b\u5f55\u4e4b\u540e\u5728header\u7ec4\u4ef6\u52a8\u6001\u5c55\u793a\u7528\u6237\u7684\u4fe1\u606f",level:2},{value:"\u56db\u3001\u9000\u51fa\u767b\u5f55",id:"\u56db\u9000\u51fa\u767b\u5f55",level:2},{value:"\u4e94\u3001\u8def\u7531\u5b88\u536b",id:"\u4e94\u8def\u7531\u5b88\u536b",level:2},{value:"\u4e00\u3001\u52a8\u6001\u5c55\u793a",id:"\u4e00\u52a8\u6001\u5c55\u793a",level:2},{value:"\u4e8c\u3001\u63d0\u4ea4\u8ba2\u5355",id:"\u4e8c\u63d0\u4ea4\u8ba2\u5355",level:2},{value:"1.\u4e8c\u7ea7\u5b50\u8def\u7531\u8bbe\u7f6e",id:"1\u4e8c\u7ea7\u5b50\u8def\u7531\u8bbe\u7f6e",level:2},{value:"2.\u6211\u7684\u8ba2\u5355\u7ec4\u4ef6\u7684\u52a8\u6001\u5c55\u793a",id:"2\u6211\u7684\u8ba2\u5355\u7ec4\u4ef6\u7684\u52a8\u6001\u5c55\u793a",level:2},{value:"3.\u5f15\u5165\u5168\u5c40\u7ec4\u4ef6\u5206\u9875\u5668",id:"3\u5f15\u5165\u5168\u5c40\u7ec4\u4ef6\u5206\u9875\u5668",level:2}],u={toc:p},c="wrapper";function d(e){let{components:t,...n}=e;return(0,a.kt)(c,(0,r.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"1.\u5728main.js \u6587\u4ef6\u4e2d\u5f15\u5165\u5168\u5c40\u7ec4\u4ef6\uff0c\uff0c\uff0cimport.......  \u8fd8\u8981\u7528\u4e0a Vue.component(\u5168\u5c40\u7ec4\u4ef6\u7684\u540d\u5b57\uff08XXXX.name\uff09,\u54ea\u4e00\u4e2a\u7ec4\u4ef6\uff08XXXX\uff09)\n\u5168\u5c40\u7ec4\u4ef6\u4f7f\u7528\u65f6\u4e0d\u9700\u8981\u518d\u6b21\u5f15\u5165"),(0,a.kt)("p",null,"\u7b2c\u4e00\u6b21\u53d1\u9001axios\u8bf7\u6c42\u4e00\u822c\u90fd\u5728mounted\u751f\u547d\u5468\u671f\u51fd\u6570\u4e2d\u8fdb\u884c"),(0,a.kt)("p",null,"\u4e09\u7ea7\u5217\u8868\u4f18\u5316\uff1aapp\u7ec4\u4ef6\u7684mounted\u51fd\u6570\u53ea\u6267\u884c\u4e00\u6b21\uff0c\u6240\u4ee5\u4e09\u7ea7\u5217\u8868\u7684\u6570\u636e\u653e\u5728app\u7ec4\u4ef6\u4e2d\u5c31\u53ef\u4ee5\u907f\u514dhome\u548csearch\u7ec4\u4ef6\u6765\u56de\u8df3\u8f6c\u91cd\u590d\u53d1\u8bf7\u6c42"),(0,a.kt)("p",null,"\u5728css\u4e2d\u4f7f\u7528@/....\uff0c\u5728@\u524d\u9762\u8981\u52a0\u4e0a~ \u5c0f\u6ce2\u6d6a\uff08shift+esc\u4e0b\u9762\u90a3\u4e2a\uff09"),(0,a.kt)("p",null,"assets\u6587\u4ef6\u5939\u662f\u653e\u6240\u6709\u7ec4\u4ef6\u5171\u7528\u7684\u9759\u6001\u8d44\u6e90"),(0,a.kt)("h1",{id:"2\u8981\u89e3\u51b3\u8de8\u57df\u95ee\u9898\u4f7f\u7528\u4ee3\u7406\u670d\u52a1\u5668"},"2.\u8981\u89e3\u51b3\u8de8\u57df\u95ee\u9898\uff08\u4f7f\u7528\u4ee3\u7406\u670d\u52a1\u5668\uff09"),(0,a.kt)("p",null,"\u200b\t\u5728vue.config.js\u6587\u4ef6\u4e2d\u914d\u7f6e"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"    devServer:{\n              proxy:{\n                '/api':{\n                          target:'http://gmall-h5-api.atguigu.cn'//\u8fd9\u91cc\u5199\u4e0a\u670d\u52a1\u5668\u7684\u5730\u5740\n                        }\n                    }\n             }\n")),(0,a.kt)("h1",{id:"3nprogress\u8fdb\u5ea6\u6761\u6d4f\u89c8\u5668\u4e2d\u7684\u8fdb\u5ea6\u6761"},"3.nprogress\u8fdb\u5ea6\u6761\uff08\u6d4f\u89c8\u5668\u4e2d\u7684\u8fdb\u5ea6\u6761\uff09"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"1.\u4e0b\u8f7dnpm i --save nprogress\n2.\u5f15\u5165\u8fdb\u5ea6\u6761 start\uff1a\u8fdb\u5ea6\u6761\u5f00\u59cb     done\uff1a\u8fdb\u5ea6\u6761\u7ed3\u675f\n3.\u5f15\u5165\u8fdb\u5ea6\u6761\u7684\u6837\u5f0f\n4.\u5728\u8bf7\u6c42\u62e6\u622a\u5668\u4e2d   nProgress.start()  \u8fdb\u5ea6\u6761\u5f00\u59cb\n    \u5728\u54cd\u5e94\u62e6\u622a\u5668\u4e2d  nProgress.done()   \u8fdb\u5ea6\u6761\u7ed3\u675f\n")),(0,a.kt)("h1",{id:"4\u9632\u6296\u4e0e\u8282\u6d41"},"4.\u9632\u6296\u4e0e\u8282\u6d41"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"    \u9632\u6296\uff1a\u524d\u9762\u7684\u6240\u6709\u7684\u89e6\u53d1\u90fd\u88ab\u53d6\u6d88\uff0c\u6700\u540e\u4e00\u6b21\u6267\u884c \u5728\u89c4\u5b9a\u7684\u65f6\u95f4\u4e4b\u540e\u624d\u4f1a\u89e6\u53d1\uff0c\u4e5f\u5c31\u662f\u8bf4\u5982\u679c\u5feb\u901f\u7684\u89e6\u53d1 \u53ea\u4f1a\u6267\u884c\u4e00\u6b21\n    \u8282\u6d41\uff1a\u5728\u89c4\u5b9a\u7684\u95f4\u9694\u65f6\u95f4\u8303\u56f4\u5185\u4e0d\u4f1a\u91cd\u590d\u89e6\u53d1\u56de\u8c03\uff0c\u53ea\u6709\u5927\u4e8e\u8fd9\u4e2a\u65f6\u95f4\u95f4\u9694\u624d\u4f1a\u89e6\u53d1\u56de\u8c03\uff0c\u628a\u9891\u7e41\u89e6\u53d1\u53d8\u6210\u5c11\u91cf\u89e6\u53d1\n\nlodash\u63d2\u4ef6\uff1a\u91cc\u9762\u5c01\u88c5\u4e86\u51fd\u6570\u7684\u9632\u6296\u4e0e\u8282\u6d41\u4e1a\u52a1 \u3010\u95ed\u5305+\u5ef6\u8fdf\u5668\u3011\n    1.lodash\u51fd\u6570\u5e93\u5411\u5916\u66b4\u9732\u4e86 _\u51fd\u6570    _.debounce\uff08fun,\u65f6\u95f4\uff08ms\uff09\uff09     //\u9632\u6296\n\n                      _.throttle(fun(){},\u65f6\u95f4)        //\u8282\u6d41\n")),(0,a.kt)("p",null,"\u200b\t\t\t\t\t",(0,a.kt)("br",{parentName:"p"}),"\n","\u200b\t\t\u6309\u9700\u52a0\u8f7d\uff1a\n\u200b\t\t\timport throttle from 'lodash/throttle.js'\n\u200b\t\t\t\u6216\u8005import debounce from 'loadsh/debounce.js'\n\u200b\n\u200b\t\t\t\u4e8b\u4ef6\u540d\uff1athrottle/debounce(fun(){},\u65f6\u95f4)"),(0,a.kt)("h1",{id:"5\u4e09\u7ea7\u8054\u52a8\u8df3\u8f6c\u9875\u9762\u4ee5\u53ca\u8df3\u8f6c\u5e26\u53c2\u6570\u7684\u95ee\u9898"},"5.\u4e09\u7ea7\u8054\u52a8\u8df3\u8f6c\u9875\u9762\uff0c\u4ee5\u53ca\u8df3\u8f6c\u5e26\u53c2\u6570\u7684\u95ee\u9898"),(0,a.kt)("p",null,"\u200b\t\t\u4e0d\u8981\u7528 router-link   \u4f1a\u51fa\u73b0\u5361\u987f\u73b0\u8c61"),(0,a.kt)("p",null,"\u89e3\u51b3\u529e\u6cd5\uff1a\t",(0,a.kt)("strong",{parentName:"p"},"\u8fd9\u91ccgosearch\u65b9\u6cd5\u7ed1\u5b9a\u7684\u662f\u4e09\u7ea7\u8054\u52a8\u7684\u7236\u6807\u7b7e\uff0c\u7528\u4e8b\u4ef6\u59d4\u6d3e\u6765\u907f\u514d\u591a\u4e2a\u6807\u7b7e\u7ed1\u5b9a\u4e8b\u4ef6")),(0,a.kt)("p",null,"\u5728a\u6807\u7b7e\u4e0a\u7ed1\u5b9a\u81ea\u5b9a\u4e49\u5c5e\u6027\uff1a  :data-xxxx=xxxx    //\u8fd9\u91cc\u7ed1\u5b9a\u7684\u81ea\u5b9a\u4e49\u6807\u7b7e\u5982\u679c\u662f\u5c0f\u9a7c\u5cf0\u5f62\u5f0f\u7684\uff0c\u90a3\u4e48\u8c03\u7528dataset\u65b9\u6cd5\u65f6\u4f1a\u53d8\u6210\u5c0f\u5199\u5f62\u5f0f"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'//\u5c06\u5168\u90e8\u7684\u5b50\u8282\u70b9\u7684\u4e8b\u4ef6\u59d4\u6d3e\u7ed9\u7236\u8282\u70b9->\u4e8b\u4ef6\u56de\u8c03\u5c31\u4e00\u4e2a\n    goSearch(event) {\n      //\u7b2c\u4e00\u4e2a\u95ee\u9898:div\u7236\u8282\u70b9\u5b50\u5143\u7d20\u592a\u591a\u3010h3\u3001h2\u3001em\u3001dt\u3001dd\u3001dl...a\u3011\uff1f\u4f60\u600e\u4e48\u77e5\u9053\u4f60\u70b9\u51fb\u7684\u4e00\u5b9a\u662fa\n      //\u7b2c\u4e8c\u4e2a\u95ee\u9898:\u8981\u533a\u5206\u4e00\u7ea7\u5206\u7c7b\u3001\u4e8c\u7ea7\u5206\u7c7b\u3001\u4e09\u7ea7\u5206\u7c7b\u7684a\u6807\u7b7e\u3010category1Id|category2Id|category2Id\u3011\n      \n      //\u89e3\u51b3\u65b9\u6cd5\uff1a1.\u5c06a\u6807\u7b7e\u7ed1\u5b9a\u81ea\u5b9a\u4e49\u5c5e\u6027\uff0c\u70b9\u51fb\u7684\u6807\u7b7e\u8eab\u4e0a\u5982\u679c\u6709\u90a3\u4e2a\u81ea\u5b9a\u4e49\u5c5e\u6027\u5c31\u4e00\u5b9a\u662fa\u6807\u7b7e\n            //  2.\u7ed1\u5b9a\u81ea\u5b9a\u4e49\u5c5e\u6027\uff0c123id\u548cname\u7528\u4e8e\u533a\u5206123\u7ea7id\n      let targetNode = event.target;\n      //\u8282\u70b9\u4e0a\u6709\u4e00\u4e2adataset\u5c5e\u6027\uff0c\u53ef\u4ee5\u83b7\u53d6\u5230\u8282\u70b9\u7684\u81ea\u5b9a\u4e49\u5c5e\u6027\u548c\u5c5e\u6027\u503c\n      let {categoryname, category1id, category2id, category3id} = targetNode.dataset;\n      //\u5982\u679c\u6709name\u5c5e\u6027\uff0c\u5c31\u4e00\u5b9a\u662fa\u6807\u7b7e\n      if (categoryname) {\n        //\u70b9\u51fb\u53ea\u8981\u662fa,\u5c31\u662f\u5f80search\u6a21\u5757\u8df3\u8f6c\n        var locations = {\n          name: "search",\n          query: { categoryName: categoryname },\n        };\n        //\u4e00\u7ea7\u5206\u7c7b\u7684a\n        if (category1id) {\n          locations.query.category1Id = category1id;\n        } else if (category2id) {\n          //\u4e8c\u7ea7\u5206\u7c7b\u7684a\n          locations.query.category2Id = category2id;\n        } else {\n          //\u4e09\u7ea7\u5206\u7c7b\u7684a\n          locations.query.category3Id = category3id;\n        }\n        //\u70b9\u51fb\u5546\u54c1\u5206\u7c7b\u6309\u94ae\u7684\u65f6\u5019,\u5982\u679c\u8def\u5f84\u5f53\u4e2d\u643a\u5e26params\u53c2\u6570,\u9700\u8981\u5408\u5e76\u643a\u5e26\u7ed9search\u6a21\u5757\n        if (this.$route.params.keyword) {\n          locations.params = this.$route.params;\n        }\n        //\u76ee\u524d\u5546\u54c1\u5206\u7c7b\u8fd9\u91cc\u643a\u5e26\u53c2\u6570\u53ea\u6709query\u53c2\u6570\n        this.$router.push(locations);\n      }\n    },\n    \n')),(0,a.kt)("h1",{id:"6params\u76f8\u5173\u95ee\u9898"},"6.params\u76f8\u5173\u95ee\u9898"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"\u7ecf\u5178\u9762\u8bd5\u98981"),"\uff1a\u7f16\u7a0b\u5f0f\u5bfc\u822a\u8fdb\u884c\u8def\u7531\u8df3\u8f6c\u7684\u65f6\u5019\uff0cpath\u5199\u6cd5\u662f\u5426\u53ef\u4ee5\u7ed3\u5408parmas\u53c2\u6570\u4e00\u8d77\u4f7f\u7528"),(0,a.kt)("p",null,"\u7b54\uff1a\u4e0d\u53ef\u4ee5\u3002path\u8fd9\u4e9b\u5199\u6cd5\u4e0d\u80fd\u7ed3\u5408params\u53c2\u6570\u4e00\u8d77\u4f20\u9012"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"\u7ecf\u5178\u9762\u8bd5\u98982"),"\uff1a\u5982\u4f55\u64cd\u4f5cparams \u53c2\u6570\u53ef\u4ee5\u4f20\u9012\u4e5f\u53ef\u4ee5\u4e0d\u4f20\u9012\u7684\u5199\u6cd5\uff1f"),(0,a.kt)("p",null,"\u7b54\uff1a\u5728\u8def\u7531\u5f53\u4e2dparams\u540e\u9762\u52a0\u4e0a\u4e00\u4e2a\uff1f\uff0c\u4ee3\u8868\u7684\u662fparams\u53c2\u6570\u53ef\u4ee5\u4f20\u9012\uff0c\u66f2\u53ef\u4ee5\u4e0d\u4f20\u9012"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"\u7ecf\u5178\u9762\u8bd5\u98983"),"\uff1aparams\u53c2\u6570\u53ef\u4ee5\u4f20\u9012|\u6216\u8005\u4e0d\u4f20\u9012\uff0c\u4f46\u662f\u6211\u5c31\u662f\u4f20\u9012params\u53c3\u6570\uff0c\u4f46\u662f\u6211\u4f20\u9012\u7684\u662f\u4e00\u4e2a\u7a7a\u5b57\u7b26\u4e32\uff1f\n\u7b54\uff1a\u7528undefined\u89e3\u6b21\u8fd9\u7c7b\u95ee\u9898"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"\u7ecf\u5178\u9762\u8bd5\u98984"),'\uff1a\u8def\u7531\u80fd\u5426\u7ed9\u7ec4\u4ef6\u4f20\u9012props\n\u7b54\uff1a\u80fd\uff1a\u5e03\u5c14\u503c\u3001\u5bf9\u8c61\u3001\u51fd\u6570\n\u4e0b\u9762\u8fd9\u79cd\u5199\u6cd5\u53ef\u4ee5\u89e3\u51b3\u5f53\u524d\u8fd9\u4e2a\u629b\u51fa\u5f02\u5e38\u9519\u8bef\u7684\u95ee\u9898\uff0c\u4f46\u662f\u5c06\u6765\u6211\u4eec\u8fd8\u662f\u4f1a\u7528\u5230pushlreplace\u65b9\u6cd5\u8fdb\u884c\u8def\u7531\u8df3\u8f6c\uff0c\u8fd8\u662f\u4f1a\u51fa\u73b0\u6b64\u7c7b\u95ee\u9898\n\u56e0\u6b64\u6211\u4eec\u9700\u8981\u4ece\u201d\u6839"\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u5c31\u662f\u54b1\u4eec\u81ea\u5df1\u91cd\u5199push ll replace\u65b9\u6cd5,push l replace\u65b9\u6cd5\u662fVueRouter.prototype\u539f\u578b\u5bf9\u8c61\u4e0a\u9762\u7684\u65b9\u6cd5'),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"//\u5c06VueRouter\u539f\u578b\u5bf9\u8c61\u4e0a\u9762\u7684push replace\u65b9\u6cd5\u62f7\u8d1d\u4e00\u4efd\nlet copyPush = VueRouter.prototype.push\nlet copyReplace = VueRouter.prototype.replace\n\n//\u91cd\u5199push replace\u65b9\u6cd5\n//\u7b2c\u4e00\u4e2a\u53c2\u6570\uff1a\u4f20\u9012\u7684\u53c2\u6570\uff08name\uff0cpath\uff0cquery\uff0cparams\u7b49\uff09\n//\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff1a\u6210\u529f\u7684\u56de\u8c03\n//\u7b2c\u4e09\u4e2a\u53c2\u6570\uff1a\u5931\u8d25\u7684\u56de\u8c03\nVueRouter.prototype.push = function(location,resolve,reject,){\n    if(resolve&&reject){\n        copyPush.call(this,location,resolve,reject)\n    }else{\n        copyPush.call(this,location,()=>{},()=>{})\n    }\n}\nVueRouter.prototype.replace = function(location,resolve,reject,){\n    if(resolve&&reject){\n        copyReplace.call(this,location,resolve,reject)\n    }else{\n        copyReplace.call(this,location,()=>{},()=>{})\n    }\n}\n")),(0,a.kt)("h1",{id:"7\u53c2\u6570\u5408\u5e76"},"7.\u53c2\u6570\u5408\u5e76"),(0,a.kt)("p",null,"\u5728header\u7ec4\u4ef6\uff0c\u70b9\u51fb\u641c\u7d22\u6309\u94ae\u65f6"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"        //\u641c\u7d22\u6309\u94ae\u7684\u56de\u8c03\u51fd\u6570\n        goSearch(){\n            //\u5982\u679c\u6709query \u5e26\u7740\n            if(this.$route.query){\n                let location = {name:'search',params:{keyword:this.keyword || undefined}}\n                location.query = this.$route.query\n                this.$router.push(location)\n            }\n        },\n")),(0,a.kt)("p",null,"\u5728\u4e09\u7ea7\u8054\u52a8\u7ec4\u4ef6\u4e2d"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"        //\u5982\u679c\u6709params \u5e26\u7740\n          if(this.$route.params){\n            location.params = this.$route.params\n            location.query = query\n            this.$router.push(location)\n          }\n")),(0,a.kt)("h1",{id:"8mock\u6a21\u62df\u6570\u636e"},"8.mock\u6a21\u62df\u6570\u636e"),(0,a.kt)("p",null,"1:mockjs\u6a21\u5757\u5b9e\u73b0\u6a21\u62df\u6570\u636e"),(0,a.kt)("p",null,"---\u5bf9\u4e8e\u5c06\u6765\u5b9e\u9645\u5de5\u4f5c\u7684\u65f6\u5019\uff0c\u540e\u53f0\u6ca1\u6709\u51c6\u5907\u597d\u63a5\u53e3\uff08\u670d\u52a1\u5668\u6ca1\u6709\u5f00\u53d1\u51fa\u6765\uff09\uff0c\u524d\u7aef\u5de5\u7a0b\u5e08\u53ef\u4ee5\u5229\u7528mock\u6280\u672f\uff0c"),(0,a.kt)("p",null,"\u5b9e\u73b0\u6a21\u62df\u6570\u636e\uff0c\u5c06\u6765\u9879\u76ee\u4e0a\u7ebf\uff08\u540e\u53f0\u771f\u5b9e\u63a5\u53e3\uff09\u5199\u597d\u4e86\uff0c\u66ff\u6362\u4e3a\u771f\u5b9e\u63a5\u53e3\u5373\u53ef\u3002"),(0,a.kt)("p",null,"---\u5bf9\u4e8e\u54b1\u4eec\u800c\u8a00\uff0c\u540e\u53f0\u8001\u5e08\u786e\u5b9e\u6ca1\u6709\u7ed9\u9996\u9875\u4e2d\u8f6e\u64ad\u8fd9\u90e8\u5206\u7684\u63a5\u53e3\uff0cmock\u6570\u636e\uff0c\u4f60\u53ef\u4ee5\u5f53\u4e2d\u4e00\u4e2a\u771f\u5b9e\u63a5\u53e3\u5c31\u884c\u4e86\u3002"),(0,a.kt)("p",null,"\u4e0a\u7ebf\u7684\u65f6\u5019\uff0c\u5bf9\u4e8emock\u6570\u636e\u5bf9\u4e8e\u9879\u76ee\u800c\u8a00\u6ca1\u6709\u4efb\u4f55\u5f71\u54cd\u3002"),(0,a.kt)("p",null,"\u5bf9\u4e8e\u9879\u76ee\u800c\u8a00:\u771f\u5b9e\u7684\u63a5\u53e3 /api/xxxx   \u6a21\u62df\u7684\u6570\u636e/mock/xxxx"),(0,a.kt)("p",null,"\u6a21\u62df\u6570\u636eJSON\uff1a\u6ca1\u6709\u7a7a\u683c\uff0c\u6700\u597d\u4f7f\u7528\u683c\u5f0f\u5316\u63d2\u4ef6\u8fdb\u884c\u683c\u5f0f\u5316\u3002"),(0,a.kt)("p",null,"\u4f7f\u7528\u6b65\u9aa4\uff1a"),(0,a.kt)("p",null,"\u200b\t1.\u5728\u9879\u76ee\u7684src\u6587\u4ef6\u5939\u4e2d\u521b\u5efa\u4e00\u4e2amock\u6587\u4ef6\u5939"),(0,a.kt)("p",null,"\u200b\t2.\u628a\u51c6\u5907\u7684json\u6570\u636e\uff08mock\u6587\u4ef6\u5939\u4e2d\u521b\u5efa\u76f8\u5e94\u7684json\u6587\u4ef6\uff09-------\u683c\u5f0f\u5316\u4e00\u4e0b\uff0c\u522b\u6709\u7a7a\u683c\uff08\u4f1a\u8dd1\u4e0d\u8d77\u6765\uff09"),(0,a.kt)("ol",{start:3},(0,a.kt)("li",{parentName:"ol"},"\u628amock\u9700\u8981\u7684\u56fe\u7247\u653e\u5728public\u6587\u4ef6\u5939\u4e2d\u3010public\u6587\u4ef6\u5939\u5728\u6253\u5305\u7684\u65f6\u5019\uff0c\u4f1a\u628a\u76f8\u5e94\u7684\u8d44\u6e90\u539f\u5c01\u4e0d\u52a8\u7684\u6253\u5305\u5230dist\u6587\u4ef6\u5939\u4e2d\u3011"),(0,a.kt)("li",{parentName:"ol"},"\u521b\u5efamockServer.Js\u901a\u8fc7mock.js\u63d2\u4ef6\u5b9e\u73b0\u6a21\u62df\u6570\u636e"),(0,a.kt)("li",{parentName:"ol"},"mockServer.js\u6587\u4ef6\u5728\u5165\u53e3\u6587\u4ef6\u5939\u4e2d\u5f15\u5165\uff08\u81f3\u5c11\u5f15\u5165\u4e00\u6b21\uff0c\u624d\u80fd\u6a21\u62df\u6570\u636e\uff09")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"//\u5f15\u5165mockjs\u63d2\u4ef6\u5f00\u59cb\u6a21\u62df\u6570\u636e\nimport Mock from 'mockjs';\n//\u5f15\u5165\u6570\u636e\uff1aJSON\u6570\u636e\u683c\u5f0f\u6570\u636e\n//\u6bd4\u5982:\u56fe\u7247\u8d44\u6e90\u3001JSON\u8d44\u6e90\u3010\u91cc\u9762\u4e0d\u80fd\u4e66\u5199export\u5173\u952e\u5b57\u3011\uff0c\u8fd9\u4e9b\u8d44\u6e90\u9ed8\u8ba4\u5bf9\u5916\u66b4\u9732\u3010\u9ed8\u8ba4\u66b4\u9732\u3011\nimport banner from './banner.json';\nimport floor from './floor.json';\n\n//\u63a5\u53e3:\u76f8\u5f53\u4e8enodejs\u91cc\u9762\u4e2d\u95f4\u4ef6\n//\u7b2c\u4e00\u4e2a\u53c2\u6570\uff1a\u63a5\u53e3\u7684\u5730\u5740 \u7b2c\u4e8c\u4e2a\u53c2\u6570:\u5411\u8fd9\u4e2a\u63a5\u53e3\u53d1\u8bf7\u6c42\u83b7\u53d6\u5230\u7684\u6570\u636e \n//Mock\u63d2\u4ef6\uff1a\u4e2d\u95f4\u4ef6\u9ed8\u8ba4\u662fGET\u8bf7\u6c42\nMock.mock(\"/mock/banner\", { code: 200, data: banner });\n//Mock\u63d2\u4ef6\uff1a\u4e2d\u95f4\u4ef6\u9ed8\u8ba4\u662fGET\u8bf7\u6c42\nMock.mock('/mock/floor', { code: 200, data: floor });\n\n//\u4f7f\u7528\u7684\u65f6\u5019\u8bb0\u5f97\u5f15\u5165mock\u7684\u6570\u636e\n")),(0,a.kt)("h1",{id:"9swiper\u8f6e\u64ad\u56fe\u63d2\u4ef6"},"9.swiper\u8f6e\u64ad\u56fe\u63d2\u4ef6"),(0,a.kt)("p",null,"\u200b\tswiper\u63d2\u4ef6\uff1a\u7ecf\u5e38\u5236\u4f5c\u8f6e\u64ad\u56fe\uff08\u79fb\u52a8\u7aef||pc\u7aef\u90fd\u53ef\u4ee5\u4f7f\u7528\uff09"),(0,a.kt)("p",null,"\u200b\t\u4f7f\u7528\u6b65\u9aa4\uff1a1.\u5f15\u5165\u76f8\u5e94\u7684\u4f9d\u8d56\u5305\uff08swiper.js || swiper.css\uff09"),(0,a.kt)("p",null,"\u200b\t\t\t\t\t\t2.\u9875\u9762\u4e2d\u7684\u7ed3\u6784\u52a1\u5fc5\u8981\u6709"),(0,a.kt)("p",null,"\u200b\t\t\t\t\t\t3.\u521d\u59cb\u5316swiper\u5b9e\u4f8b\uff0c\u7ed9\u8f6e\u64ad\u56fe\u6dfb\u52a0\u52a8\u6001\u6548\u679c"),(0,a.kt)("p",null,"css\u6587\u4ef6\u53ef\u4ee5\u76f4\u63a5\u5728main.js\u4e2d\u76f4\u63a5\u5f15\u7528\uff08\u907f\u514d\u4e86\u591a\u4e2a\u7ec4\u4ef6\u4f7f\u7528swiper\u91cd\u590d\u5f15\u7528\u7684\u95ee\u9898\uff09"),(0,a.kt)("h1",{id:"10swiper\u63d2\u4ef6\u914d\u5408\u9879\u76ee\u4e2d\u7684\u8f6e\u64ad\u56fe"},"10.swiper\u63d2\u4ef6\u914d\u5408\u9879\u76ee\u4e2d\u7684\u8f6e\u64ad\u56fe"),(0,a.kt)("h3",{id:"\u7b2c\u4e00\u79cd\u89e3\u51b3\u65b9\u6848"},"\u7b2c\u4e00\u79cd\u89e3\u51b3\u65b9\u6848\uff0c"),(0,a.kt)("p",null,"\u5ef6\u8fdf\u5668\uff08\u4e0d\u662f\u5b8c\u7f8e\u7684\u89e3\u51b3\u65b9\u6848     \u4f46\u662f\u8fd9\u79cd\u89e3\u51b3\u65b9\u6848\u5b58\u5728\u98ce\u9669\uff08\u65e0\u6cd5\u786e\u5b9a\u7528\u6237\u8bf7\u6c42\u5230\u5e95\u9700\u8981\u591a\u957f\u65f6\u95f4\uff09\uff0c\u56e0\u6b64\u6ca1\u529e\u6cd5\u786e\u5b9a\u5ef6\u8fdf\u5668\u65f6\u95f4\u3002"),(0,a.kt)("h3",{id:"2swiper\u5728vue\u9879\u76ee\u4e2d\u4f7f\u7528\u5b8c\u7f8e\u89e3\u51b3\u65b9\u6848"},"2:Swiper\u5728Vue\u9879\u76ee\u4e2d\u4f7f\u7528\u5b8c\u7f8e\u89e3\u51b3\u65b9\u6848"),(0,a.kt)("p",null,"\u7b2c\u4e00\u79cd\u89e3\u51b3\u65b9\u6848\u95ee\u9898\u51fa\u73b0\u5728\u54ea\u91cc\uff1av-for,\u5728\u904d\u5386\u6765\u81ea\u4e8eVuex\uff08\u6570\u636e:\u901a\u8fc7ajax\u5411\u670d\u52a1\u5668\u53d1\u8bf7\u6c42\uff0c\u5b58\u5728\u5f02\u6b65\uff09"),(0,a.kt)("p",null,"watch:\u76d1\u542c\u5c5e\u6027\uff0cwatch\u53ef\u4ee5\u68c0\u6d4b\u5230\u5c5e\u6027\u503c\u7684\u53d8\u5316\uff0c\u5f53\u5c5e\u6027\u503c\u53d1\u751f\u53d8\u5316\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u51fa\u53d1\u4e00\u6b21\u3002"),(0,a.kt)("p",null,"Vuex\u5f53\u4e2d\u7684\u4ed3\u5e93\u6570\u636ebannerList\uff08\u7ec4\u4ef6\u5728\u4f7f\u7528\uff09\uff1a\nbannerList\u4ed3\u5e93\u6570\u636e\u6709\u6ca1\u6709\u53d1\u751f\u8fc7\u53d8\u5316\uff1f\n\u4e00\u5b9a\u662f\u6709\u7684\uff1abannerList\u521d\u59cb\u503c\u7a7a\u6570\u7ec4\uff0c\u5f53\u670d\u52a1\u5668\u7684\u6570\u636e\u8fd4\u56de\u4ee5\u540e\uff0c\u5b83\u7684bannerList\u5b58\u50a8\u7684\u5c5e\u6027\u503c\u4f1a\u53d1\u751f\u53d8\u5316\u3010\u53d8\u4e3a\u670d\u52a1\u5668\u8fd4\u56de\u7684\u6570\u636e\u3011\n\u7ec4\u4ef6\u5b9e\u4f8b\u5728\u4f7f\u7528\u4ed3\u5e93\u4e2d\u7684bannerList\uff0c\u7ec4\u4ef6\u7684\u8fd9\u4e2a\u5c5e\u6027bannerList\u4e00\u5b9a\u662f\u53d1\u751f\u8fc7\u53d8\u5316\uff0cwatch\u53ef\u4ee5\u76d1\u542c\u5230\u3002"),(0,a.kt)("p",null,"\u7ec4\u4ef6\u5b9e\u4f8b\u7684\u4e00\u4e2a\u65b9\u6cd5:$nextTick\nthis.$nextTick(()=>{"),(0,a.kt)("p",null,"})\nnextTick\u5b98\u7f51\u89e3\u91ca:\n\u5728\u4e0b\u6b21DOM\u66f4\u65b0, \u5faa\u73af\u7ed3\u675f\u4e4b\u540e,\u6267\u884c\u5ef6\u8fdf\u56de\u8c03\u3002\u5728 \u4fee\u6539\u6570\u636e\u4e4b\u540e \u7acb\u5373\u4f7f\u7528\u8fd9\u4e2a\u65b9\u6cd5\uff0c\u83b7\u53d6\u66f4\u65b0\u540e\u7684DOM\u3002\n\u6ce8\u610f\uff1a\u7ec4\u4ef6\u5b9e\u4f8b\u7684$nextTick\u65b9\u6cd5\uff0c\u5728\u5de5\u4f5c\u5f53\u4e2d\u7ecf\u5e38\u4f7f\u7528\uff0c\u7ecf\u5e38\u7ed3\u5408\u7b2c\u4e09\u65b9\u63d2\u4ef6\u4f7f\u7528\uff0c\u83b7\u53d6\u66f4\u65b0\u540e\u7684DOM\u8282\u70b9"),(0,a.kt)("p",null,"\u603b\u7ed3:\n1:Swiper\u63d2\u4ef6\u5de5\u4f5c\u7684\u662f\u5f88\u5e38\u7528\uff08\u4eca\u665a\u628aAPI\u3001\u57fa\u672c\u4f7f\u7528\u65b9\u6cd5\uff09\u770b\u770b\n2:\u7ec4\u4ef6\u5b9e\u4f8b\u7684$nextTick\u65b9\u6cd5\u3002\n\u5728\u4e0b\u6b21DOM\u66f4\u65b0, \u5faa\u73af\u7ed3\u675f\u4e4b\u540e,\u6267\u884c\u5ef6\u8fdf\u56de\u8c03\u3002\u5728 \u4fee\u6539\u6570\u636e\u4e4b\u540e \u7acb\u5373\u4f7f\u7528\u8fd9\u4e2a\u65b9\u6cd5\uff0c\u83b7\u53d6\u66f4\u65b0\u540e\u7684DOM"),(0,a.kt)("p",null,"\u76d1\u542c\u53ef\u4ee5\u4fdd\u8bc1\u670d\u52a1\u5668\u7684\u6570\u636e\u5df2\u7ecf\u8fd4\u56de\uff0c\u4f46\u662f\u4e0d\u80fd\u4fdd\u8bc1\u904d\u5386\u7ed3\u675f\uff0c\u6240\u4ee5\u8981\u4f7f\u7528$nextTick\u6765\u4fdd\u8bc1\u9875\u9762\u6e32\u67d3\u7ed3\u675f\u4e4b\u540e\u521d\u59cb\u5316swiper"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'  watch: {\n    list: {\n      immediate: true,\n      handler() {\n        this.$nextTick(() => {\n          var mySwiper = new Swiper(".swiper-container", {\n            loop: true, // \u5faa\u73af\u6a21\u5f0f\u9009\u9879\n            // \u5982\u679c\u9700\u8981\u5206\u9875\u5668\n            pagination: {\n              el: ".swiper-pagination",\n              clickable: true,\n            },\n\n            // \u5982\u679c\u9700\u8981\u524d\u8fdb\u540e\u9000\u6309\u94ae\n            navigation: {\n              nextEl: ".swiper-button-next",\n              prevEl: ".swiper-button-prev",\n            },\n\n            // \u5982\u679c\u9700\u8981\u6eda\u52a8\u6761\n            scrollbar: {\n              el: ".swiper-scrollbar",\n            },\n          });\n        });\n      },\n    },\n  },\n')),(0,a.kt)("h1",{id:"11\u5f00\u53d1floor\u7ec4\u4ef6"},"11.\u5f00\u53d1floor\u7ec4\u4ef6"),(0,a.kt)("p",null,"1.getFloorList\u8fd9\u4e2aaction\u5728\u54ea\u91cc\u89e6\u53d1\uff0c\u662f\u9700\u8981\u5728home\u7ec4\u4ef6\u5f53\u4e2d\u89e6\u53d1\u7684\uff0c\u4e0d\u80fd\u5728floor\u7ec4\u4ef6\u5185\u90e8\u89e6\u53d1\uff0c\u56e0\u4e3a\u8fd4\u56de\u7684\u662f\u4e24\u4e2afloor\uff0c\u9700\u8981v-for\u904d\u5386floor\u7ec4\u4ef6"),(0,a.kt)("p",null,"2.v-for\u4e5f\u53ef\u4ee5\u5728\u81ea\u5b9a\u4e49\u6807\u7b7e\u5f53\u4e2d\u4f7f\u7528"),(0,a.kt)("h1",{id:"12\u5c06\u8f6e\u64ad\u56fe\u62c6\u5206\u4e3a\u4e00\u4e2a\u516c\u7528\u7684\u5168\u5c40\u7ec4\u4ef6"},"12.\u5c06\u8f6e\u64ad\u56fe\u62c6\u5206\u4e3a\u4e00\u4e2a\u516c\u7528\u7684\u5168\u5c40\u7ec4\u4ef6"),(0,a.kt)("p",null,"\u5207\u8bb0\uff1a\u4ee5\u540e\u5728\u5f00\u53d1\u9879\u76ee\u7684\u65f6\u5019\uff0c\u5982\u679c\u770b\u5230\u67d0\u4e00\u4e2a\u7ec4\u4ef6\u5728\u5f88\u591a\u5730\u65b9\u90fd\u5728\u4f7f\u7528\uff0c\u5c31\u53ef\u4ee5\u628a\u5b83\u53d8\u6210\u5168\u5c40\u7ec4\u4ef6\uff0c\u6ce8\u518c\u4e00\u6b21\u5c31\u53ef\u4ee5\u5728\u4efb\u610f\u5730\u65b9\u4f7f\u7528\u516c\u7528\u7684\u7ec4\u4ef6||\u975e\u8def\u7531\u7ec4\u4ef6\u653e\u5728components\u6587\u4ef6\u5939\u4e2d"),(0,a.kt)("h1",{id:"13search\u7ec4\u4ef6\u76f8\u5173\u7684\u95ee\u9898"},"13.search\u7ec4\u4ef6\u76f8\u5173\u7684\u95ee\u9898"),(0,a.kt)("h3",{id:"search\u7ec4\u4ef6\u52a8\u6001\u83b7\u53d6\u6570\u636e"},"search\u7ec4\u4ef6\u52a8\u6001\u83b7\u53d6\u6570\u636e"),(0,a.kt)("p",null,"1.\u5148\u5199axios\u8bf7\u6c42\uff08\u8fd9\u6b21\u8bf7\u6c42\u9700\u8981\u5e26\u53c2\u6570\uff09"),(0,a.kt)("p",null,"2.vuex\u4e09\u4ef6\u5957"),(0,a.kt)("p",null,"3.\u7ec4\u4ef6\u6d3e\u53d1action\u8bf7\u6c42\uff0c\u83b7\u53d6\u6570\u636e\u8fdb\u884c\u52a8\u6001\u5c55\u793a"),(0,a.kt)("h3",{id:"\u6839\u636e\u4e0d\u540c\u53c2\u6570\u52a8\u6001\u83b7\u53d6\u6570\u636e\u8fdb\u884c\u5c55\u793a"},"\u6839\u636e\u4e0d\u540c\u53c2\u6570\u52a8\u6001\u83b7\u53d6\u6570\u636e\u8fdb\u884c\u5c55\u793a"),(0,a.kt)("p",null,"\u200b\t1.\u8bbe\u7f6e\u4e00\u4e2a\u7a7a\u5bf9\u8c61searchParams"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"2. \u901a\u8fc7assign\u65b9\u6cd5\u5c06searchParams \u548c\u83b7\u53d6\u7684\u8def\u7531\u53c2\u6570\u8fdb\u884c\u5339\u914d\u8986\u76d6    \u540e\u9762\u4e24\u4e2a\u7684\u5c5e\u6027\u4f1a\u628a\u7b2c\u4e00\u4e2a\u7684\u5c5e\u6027\u503c\u8986\u76d6\u6389    Object.assign(*this*.searchParams,*this*.$route.query,*this*.$route.params)\n")),(0,a.kt)("ol",{start:3},(0,a.kt)("li",{parentName:"ol"},"\u5728beforeMount\u51fd\u6570\u4e2d\u518d\u5c06searchParams\u4f20\u9012\u7ed9\u5c01\u88c5\u597d\u7684axios\u8bf7\u6c42\uff0c\u8ba9\u670d\u52a1\u5668\u52a8\u6001\u8fd4\u56de\u6570\u636e\u8fdb\u884c\u5c55\u793a")),(0,a.kt)("h3",{id:"\u70b9\u51fb\u4e09\u7ea7\u5217\u8868\u6216\u8005\u8fdb\u884c\u641c\u7d22\u83b7\u53d6\u6570\u636e"},"\u70b9\u51fb\u4e09\u7ea7\u5217\u8868\u6216\u8005\u8fdb\u884c\u641c\u7d22\u83b7\u53d6\u6570\u636e"),(0,a.kt)("p",null,"\u4f46\u662f\u8fd9\u91cc\u53ea\u4f1a\u5728mounted \u7ec4\u4ef6\u6302\u8f7d\u5b8c\u6bd5\u4e4b\u540e\u6267\u884c\u4e00\u6b21\uff0c\u540e\u7eed\u518d\u60f3\u8981\u518d\u6b21\u70b9\u51fb\u4e09\u7ea7\u5217\u8868\u6216\u8005\u8fdb\u884c\u641c\u7d22\u4e5f\u4e0d\u4f1a\u8fd4\u56de\u6570\u636e"),(0,a.kt)("p",null,"\u6240\u4ee5\u89e3\u51b3\u529e\u6cd5\uff1a"),(0,a.kt)("p",null,"\u200b\t\t\t\t\t\t\twatch\u76d1\u542c\u8def\u7531\u4fe1\u606f\uff0c\u5982\u679c\u4fe1\u606f\u4fee\u6539\u5219\u91cd\u65b0\u6574\u7406\u5e26\u7ed9\u670d\u52a1\u5668\u7684\u53c2\u6570\uff0c\u518d\u6b21\u53d1\u8d77\u8bf7\u6c42\uff0c\u4f46\u662f\u5982\u679c\u518d\u70b9\u51fb\u4e00\u7ea7\u4e8c\u7ea7id\u5219\u4e0d\u4f1a\u5c06\t\t\t\t\t\t\u4e0a\u4e00\u6b21\u70b9\u51fb\u7684id\u8986\u76d6\u6389\uff0c\u6240\u4ee5\u8981\u5728\u8bf7\u6c42\u53d1\u9001\u5b8c\u6bd5\u4e4b\u540e\u7f6e\u7a7a\u4e0a\u6b21\u53d1\u9001\u7684123\u7ea7id"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'  watch: {\n    $route() {\n      Object.assign(this.searchParams, this.$route.query, this.$route.params);\n      this.getData();\n      this.searchParams.category1Id = "";\n      this.searchParams.category2Id = "";\n      this.searchParams.category3Id = "";\n    },\n  },\n')),(0,a.kt)("h3",{id:"\u5904\u7406\u9762\u5305\u5c51\u95ee\u9898"},"\u5904\u7406\u9762\u5305\u5c51\u95ee\u9898"),(0,a.kt)("h5",{id:"\u4e09\u7ea7\u5217\u8868\u751f\u6210\u7684\u9762\u5305\u5c51"},"\u4e09\u7ea7\u5217\u8868\u751f\u6210\u7684\u9762\u5305\u5c51"),(0,a.kt)("p",null,"1.v-if\u663e\u793a\u9690\u85cf\u9762\u5305\u5c51   \u7ed9x\u8bbe\u7f6e\u70b9\u51fb\u76d1\u542c"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'<li class="with-x" v-if="searchParams.categoryName">{{ searchParams.categoryName}}<i @click="removeCategoryName">x</i>\n</li>\n')),(0,a.kt)("p",null,"2.\u70b9\u51fbx \u7684\u65f6\u5019\u5148\u628a\u4e0a\u6b21\u5e26\u8fc7\u6765\u7684\u53c2\u6570\u7f6e\u7a7a\uff08\u4e5f\u53ef\u4ee5\u8bbe\u7f6e\u4e3aundefined\uff0c\u8fd9\u6837\u5f53\u524d\u7684\u5b57\u6bb5\u5c31\u4e0d\u4f1a\u518d\u5e26\u7ed9\u670d\u52a1\u5668\uff09"),(0,a.kt)("p",null,"\u200b\t\u518d\u6b21\u8bf7\u6c42\uff0c\u4f46\u662f\u8fd9\u65f6\u7684\u6d4f\u89c8\u5668\u5730\u5740\u680f\u8fd8\u662f\u4f1a\u5b58\u5728\u4e0a\u4e00\u6b21\u5e26\u8fc7\u6765\u7684query\u53c2\u6570\uff0c\u4e3a\u4e86\u907f\u514d\u4e0d\u5220\u9664params\u53c2\u6570\uff0c\u53ef\u4ee5\u5224\u65ad\u5982\u679c\u6709params\u53c2\u6570\t\u5219\u5c06params\u53c2\u6570\u7ee7\u7eed\u5e26\u7740\u8fdb\u884cpush\u8df3\u8f6c\uff0c\u6ca1\u6709\u5219\u76f4\u63a5\u8df3\u8f6c\u3002"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'removeCategoryName() {\n      this.searchParams.categoryName = "";\n      this.searchParams.category1Id = "";\n      this.searchParams.category2Id = "";\n      this.searchParams.category3Id = "";\n      this.getData();\n      if (this.$route.params) {\n        this.$router.push({ name: "search", params: this.$route.params });\n      }\n    },\n')),(0,a.kt)("h5",{id:"\u5173\u952e\u5b57\u751f\u6210\u7684\u9762\u5305\u5c51"},"\u5173\u952e\u5b57\u751f\u6210\u7684\u9762\u5305\u5c51"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("u",null,"1.\u5173\u952e\u5b57\u751f\u6210\u7684\u9762\u5305\u5c51\u548c\u4e0a\u9762\u7c7b\u4f3c\uff0c\u533a\u522b\u5c31\u662f\u8981\u6e05\u9664\u641c\u7d22\u680f\u4e2d\u7684\u6587\u5b57\uff0c\u65b9\u6cd5\u662f\u901a\u8fc7\u5168\u5c40\u4e8b\u4ef6\u603b\u7ebf\u7ed1\u5b9a\u4e00\u4e2a\u4e8b\u4ef6\u7ed9header\u7ec4\u4ef6\u6e05\u9664"))),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'    removeKeyword() {\n      this.searchParams.keyword = "";\n      this.getData();\n      this.$bus.$emit("clearKeyword");\n      if (this.$route.query) {\n        this.$router.push({ name: "search", query: this.$route.query });\n      }\n    },\n')),(0,a.kt)("h5",{id:"\u54c1\u724c\u751f\u6210\u7684\u9762\u5305\u5c51"},"\u54c1\u724c\u751f\u6210\u7684\u9762\u5305\u5c51"),(0,a.kt)("p",null,"\u200b\t1.\u5148\u4f7f\u7528\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u5c06\u5b50\u7ec4\u4ef6\u4e2d\u7684\u6570\u636e\u8fd4\u56de"),(0,a.kt)("p",null,"\u200b\t2.\u5c06\u8fd4\u56de\u7684\u6570\u636e\u8fdb\u884c\u6574\u5408"),(0,a.kt)("p",null,"\u200b\t3.\u52a8\u6001\u7684\u5728\u9875\u9762\u4e2d\u8fdb\u884c\u5c55\u793a"),(0,a.kt)("p",null,"\u200b\t4.\u7ed9x\u8bbe\u7f6e\u70b9\u51fb\u76d1\u542c"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'    trademarkInfo(trademark) {\n      this.searchParams.trademark = `${trademark.tmId}:${trademark.tmName}`;\n      this.getData();\n    },\n    removeTradeMark() {\n      this.searchParams.trademark = "";\n      this.getData();\n    },\n')),(0,a.kt)("h5",{id:"\u5546\u54c1\u53c2\u6570\u751f\u6210\u7684\u9762\u5305\u5c51\u8fd9\u91cc\u7684\u6570\u636e\u8981\u653e\u5728\u6570\u7ec4\u91cc"},"\u5546\u54c1\u53c2\u6570\u751f\u6210\u7684\u9762\u5305\u5c51\uff08\u8fd9\u91cc\u7684\u6570\u636e\u8981\u653e\u5728\u6570\u7ec4\u91cc\uff09"),(0,a.kt)("p",null,"\u200b\t1.\u5148\u4f7f\u7528\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u5c06\u5b50\u7ec4\u4ef6\u4e2d\u7684\u6570\u636e\u8fd4\u56de"),(0,a.kt)("p",null,"\u200b\t2.\u5c06\u8fd4\u56de\u7684\u6570\u636e\u8fdb\u884c\u6574\u5408"),(0,a.kt)("p",null,"\u200b\t3.\u52a8\u6001\u7684\u5728\u9875\u9762\u4e2d\u8fdb\u884c\u5c55\u793a\uff08\u6240\u4ee5\u8981\u4f7f\u7528v-for\u8fdb\u884c\u904d\u5386\u6570\u7ec4\u5185\u6240\u6709\u7684\u53c2\u6570\uff0c\u800c\u4e0d\u662fv-if\u8fdb\u884c\u5c55\u793a\uff09"),(0,a.kt)("p",null,"\u200b\t4.\u7ed9x\u8bbe\u7f6e\u70b9\u51fb\u76d1\u542c\uff08\u8fd9\u91cc\u4e0d\u662f\u8981\u628asearchparams\u7684\u5c5e\u6027\u7f6e\u7a7a\uff0c\u800c\u662f\u8981\u5220\u9664props\u6570\u7ec4\u7684\u5185\u5bb9\uff09"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"attrInfo(attr, attrValue) {\n      let props = `${attr.attrId}:${attrValue}:${attr.attrName}`;\n      if (this.searchParams.props.indexOf(props) == -1) {\n        this.searchParams.props.push(props);\n        this.getData();\n      }\n    },\n    removeAttr(index) {\n      this.searchParams.props.splice(index, 1);\n      this.getData();\n    },\n")),(0,a.kt)("h3",{id:"\u6392\u5e8f\u95ee\u9898"},"\u6392\u5e8f\u95ee\u9898"),(0,a.kt)("p",null,"\u95ee\u9898\uff1a1.order\u5c5e\u6027\u7684\u5c5e\u6027\u503c\u6709\u591a\u5c11\u79cd\u5199\u6cd5\t1\uff1aasc \t\t1\uff1adesc \t2\uff1aasc\t\t2\uff1adesc"),(0,a.kt)("p",null,"2.\u8c01\u5e94\u8be5\u6709\u7c7b\u540d\uff1a\u901a\u8fc7order\u5c5e\u6027\u503c\u5f53\u4e2d\u662f\u5305\u542b1\u8fd8\u662f2"),(0,a.kt)("p",null,"3.\u8c01\u5e94\u8be5\u6709\u7bad\u5934\uff1a\u8c01\u6709\u7c7b\u540d\u8c01\u5c31\u6709\u7bad\u5934"),(0,a.kt)("p",null,"4.\u7bad\u5934\u7528\u4ec0\u4e48\u5236\u4f5c"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'<li :class="{ active: isOne }" @click="changeOrder1">\n     <a>\u7efc\u5408<span class="iconfont" :class="{ \'icon-downswing\': isDesc, \'icon-up\': isAsc }" v-show="isOne" ></span></a>\n</li>\n\n<li :class="{ active: isTwo }" @click="changeOrder2">\n    <a>\u4ef7\u683c<span class="iconfont" :class="{ \'icon-downswing\': isDesc, \'icon-up\': isAsc }" v-show="isTwo"></span></a>\n</li>\n')),(0,a.kt)("p",null,"\u200b\t\t\t\t\u7ed9\u4e24\u4e2ali\u6807\u7b7e\u52a0\u4e0a\u52a8\u6001\u7684class\u5c5e\u6027\uff0c\u8ba1\u7b97\u51faisone\uff0cistwo\uff0cisasc\uff0cisdesc\uff0c\u5982\u679csearchparams\u4e2d\u7684order\u5c5e\u6027\u4e2d\u67091\u5219\u7ed9\u7efc\u5408\u5c55\u793a\u5c5e\u6027\uff0c\u53cd\u4e4b\u7ed9\u4ef7\u683c\u5c55\u793a\uff0c\u7bad\u5934\u4e5f\u662f   \u8c01\u6709\u7c7b\u540d\u7ed9\u8c01\u5c55\u793a\uff0c"),(0,a.kt)("p",null,"\u200b\t\t\t\t\u7bad\u5934\u4f7f\u7528\u963f\u91cc\u6807\u7b7e\uff0c\u590d\u5236\u5728\u7ebfcss\u94fe\u63a5\u8981\u5728\u524d\u9762\u52a0\u4e0ahttps\uff1a\uff0c\u8fd8\u6709\u4f7f\u7528class\u65f6\u524d\u9762\u8981\u52a0\u4e0aiconfont \u4e5f\u662f\u5982\u679corder\u4e2d\u6709asc\u5c5e\u6027\t\t\u5c31\u5c55\u793a\u5411\u4e0a\u7684\u7bad\u5934\uff0c"),(0,a.kt)("p",null,"\u200b\t\t\t\t\u7136\u540e\u5c31\u662f\u7ed9li\u6807\u7b7e\u6dfb\u52a0\u70b9\u51fb\u76d1\u542c\uff08\u4e24\u79cd\u65b9\u5f0f\uff09"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'    changeOrder1() {\n      if (this.isDesc) {\n        this.searchParams.order = "1:asc";\n      } else {\n        this.searchParams.order = "1:desc";\n      }\n      this.getData();\n    },\n    \n    changeOrder2() {\n      if (this.searchParams.order == "1:desc") {\n        this.searchParams.order = "2:desc";\n      } else if (this.isDesc) {\n        this.searchParams.order = "2:asc";\n      } else {\n        this.searchParams.order = "2:desc";\n      }\n      this.getData();\n    },\n')),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'    //\u6392\u5e8f\u56de\u8c03\n    //\u53c2\u6570\u5f62\u5f0f:1:desc\n    //1|2,\u6807\u8bb0flag,\u5230\u5e95\u8c01\u662f\u9ad8\u4eae\u72b6\u6001\n    //asc|desc\u6392\u5e8f\u3010sortType\u3011,\u5230\u5e95\u662f\u5347\u5e8f\u8fd8\u662f\u964d\u5e8f\n    changeOrder(flag) {\n     //flag\uff1a\u7528\u6237\u6bcf\u4e00\u6b21\u70b9\u51fb\u7684li\u6807\u7b7e\u7684\u65f6\u5019\uff0c\u7528\u4e8e\u533a\u5206\u662f\u7efc\u5408\uff081\uff09\u8fd8\u662f\u4ef7\u683c\uff082\uff09\n      //\u83b7\u53d6\u6bcf\u4e00\u6b21order\u521d\u59cb\u503c,\u4e0e\u7528\u6237\u70b9\u51fb\u4f20\u9012\u8fdb\u6765\u7684flag\u8fdb\u884c\u5224\u65ad\n      let originFlag = this.searchParams.order.split(":")[0];\n      let originSortType = this.searchParams.order.split(":")[1];\n      //\u51c6\u5907\u4e00\u4e2a\u65b0\u7684\u6570\u503c\uff0c\u5c06\u6765\u8d4b\u503c\u7ed9order\n      let newOrder = "";\n      //\u70b9\u51fb\u7684\u662f\u4e0d\u662f\u540c\u4e00\u4e2a\u6309\u94ae\n      if (flag == originFlag) {\n        newOrder = `${originFlag}:${originSortType == "desc" ? "asc" : "desc"}`;\n      } else {\n        //\u70b9\u51fb\u7684\u4e0d\u662f\u540c\u4e00\u4e2a\u6309\u94ae\n        newOrder = `${flag}:desc`;\n      }\n      //\u91cd\u65b0\u7ed9order\u8d4b\u4e88\u65b0\u7684\u6570\u503c\n      this.searchParams.order = newOrder;\n      //\u91cd\u65b0\u53d1\u4e00\u6b21\u8bf7\u6c42\n      this.getData();\n    },\n')),(0,a.kt)("h1",{id:"14\u5206\u9875\u5668\u91cd\u8981\u91cd\u8981\u91cd\u8981\u5c01\u88c5\u4e3a\u5168\u5c40\u7ec4\u4ef6"},"14.\u5206\u9875\u5668\uff08\u91cd\u8981\u91cd\u8981\u91cd\u8981\uff01\uff01\uff01\uff01\uff01\uff09\uff08\u5c01\u88c5\u4e3a\u5168\u5c40\u7ec4\u4ef6\uff09"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"1.\u5206\u9875\u5668\u7684\u903b\u8f91")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},'    //\u63a5\u6536\u5230\u7236\u7ec4\u4ef6\u4f20\u9012\u8fc7\u6765\u7684\u6570\u636e\n  props: ["pageNo", "pageSize", "total", "continues"], //\u4f9d\u6b21\u4e3a  \u5f53\u524d\u9875\uff0c\u6bcf\u9875\u7684\u4e2a\u6570\uff0c\u603b\u4e2a\u6570\uff0c\u8fde\u7eed\u9875\u7801\n  computed: {\n    //\u603b\u9875\u6570\n    totalPage() {\n    //\u8ba1\u7b97\u51fa\u603b\u9875\u6570\n      return Math.ceil(this.total / this.pageSize);\n    },\n    startNumAndEndNum() {\n      const { pageNo, totalPage, continues } = this;\n      let start = 0,\n        end = 0;\n      //\u5982\u679c\u603b\u9875\u6570\u5c0f\u4e8e\u8fde\u7eed\u7684\u9875\u7801\n      if (totalPage < continues) {\n        start = 1;\n        end = totalPage;\n      } else {\n        //\u603b\u9875\u6570\u5927\u4e8e\u8fde\u7eed\u7684\u9875\u7801\n        start = pageNo - Math.floor(continues / 2);\n        end = pageNo + Math.floor(continues / 2);\n        //start\u5b58\u5728\u8d1f\u6570\uff0c\u5373\u5f53\u524d\u9875\u9762\u662f1\u6216\u80052\u7684\u65f6\u5019\n        if (start < 1) {\n          start = 1;\n          end = continues;\n        //end\u5927\u4e8e\u603b\u9875\u7801\u7684\u65f6\u5019\uff0c\u5373\u5f53\u524d\u9875\u7801\u662f\u603b\u9875\u7801\u6216\u8005\u603b\u9875\u7801\u7684\u524d\u4e00\u4e2a\u65f6\n        } else if (end > totalPage) {\n          start = totalPage - continues + 1;\n          end = totalPage;\n        }\n      }\n      return { start, end };\n    },\n')),(0,a.kt)("p",null,"2.",(0,a.kt)("strong",{parentName:"p"},"\u914d\u7f6e\u4f20\u7ed9\u5206\u9875\u5668\u7684\u6570\u636e"),"\uff0c",(0,a.kt)("strong",{parentName:"p"},"\u5e76\u901a\u8fc7\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u83b7\u53d6\u5230\u5f53\u524d\u9875\u7801"),"\uff08\u8fd9\u91cctotal\u8981\u901a\u8fc7mapstate\u5728\u4ed3\u5e93\u4e2d\u83b7\u53d6\u5230\uff09"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'<FsPagination\n            :pageNo="searchParams.pageNo"\n            :pageSize="searchParams.pageSize"\n            :total="total"\n            :continues="5"\n            @getPageNo = \'getPageNo\'\n          />\n')),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"3.\u7ed9\u5206\u9875\u5668\u7ed3\u6784\u7ed1\u5b9a\u4e8b\u4ef6\u4f20\u9012\u5f53\u524d\u9875\u7801\u4ee5\u53ca\u5728\u4ec0\u4e48\u60c5\u51b5\u4e0b\u4ec0\u4e48\u6309\u94ae\u7684\u663e\u793a\u4e0e\u9690\u85cf")),(0,a.kt)("p",null,"\u200b\t:disable = \u2018 \u2019  \u52a8\u6001\u7ed9\u8fd9\u4e2a\u6309\u94ae\u6dfb\u52a0\u4e0d\u80fd\u70b9\u51fb\u4e8b\u4ef6\uff0c\u5982\u679c\u6ee1\u8db3\u540e\u9762\u7684\u903b\u8f91\u5219\u4e0d\u80fd\u70b9\u51fb"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'    <button :disabled="pageNo == 1" @click="$emit(\'getPageNo\', pageNo - 1)">\n      \u4e0a\u4e00\u9875\n    </button>\n    <button v-show="pageNo > 3" @click="$emit(\'getPageNo\', 1)" :class="{active:pageNo == 1}">1</button>\n    <button v-show="pageNo > 4">\xb7\xb7\xb7</button>\n    \x3c!-- \u4e2d\u95f4\u90e8\u5206 --\x3e\n    <button\n      v-for="page in startNumAndEndNum.end"\n      :key="page.index"\n      v-show="page >= startNumAndEndNum.start"\n      @click="$emit(\'getPageNo\', page)"\n      :class="{active:pageNo == page}"\n    >\n      {{ page }}\n    </button>\n\n    <button v-show="startNumAndEndNum.end < totalPage - 1">\xb7\xb7\xb7</button>\n    <button\n      v-show="startNumAndEndNum.end < totalPage"\n      :disabled="pageNo == totalPage"\n      @click="$emit(\'getPageNo\', totalPage)"\n      :class="{active:pageNo == totalPage}"\n    >\n      {{ totalPage }}\n    </button>\n    <button @click="$emit(\'getPageNo\', pageNo + 1)">\u4e0b\u4e00\u9875</button>\n')),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"4.\u7236\u7ec4\u4ef6\u6536\u5230\u5f53\u524d\u9875\u7801\uff0c\u5bf9searchparams\u4fee\u6539\uff0c\u518d\u6b21\u53d1\u8d77\u8bf7\u6c42")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"    getPageNo(pageNo){\n      this.searchParams.pageNo = pageNo\n      this.getData()\n    }\n")),(0,a.kt)("h1",{id:"15\u8be6\u60c5\u9875\u9762"},"15.\u8be6\u60c5\u9875\u9762"),(0,a.kt)("p",null,"\u7b2c\u4e00\u6b65\uff1a\u9759\u6001\u754c\u9762"),(0,a.kt)("p",null,"\u7b2c\u4e8c\u6b65\uff1a\u5199\u8bf7\u6c42"),(0,a.kt)("p",null,"\u7b2c\u4e09\u6b65\uff1avuex"),(0,a.kt)("p",null,"\u200b\t\u8fd9\u91cc\u8981\u4f7f\u7528getters\u7b80\u5316\u6570\u636e\uff0c\u8981\u5728\u8fd4\u56de\u7684\u6570\u636e\u540e\u9762\u52a0\u4e0a ||{}  \u5426\u5219\u4f1a\u51fa\u73b0\u5047\u62a5\u9519\t\t\u56e0\u4e3a\u8fd9\u91cc\u7684goodsInfo\u521d\u59cb\u503c\u662f\u4e00\u4e2a\u7a7a\u5bf9\u8c61\u7ec4\u4ef6\u5728\u83b7\u53d6\u6570\u636e\u5c55\u793a\u7684\u65f6\u5019\uff0c\u8fd4\u56deundefined\uff0c\u8981\u6216\u4e00\u4e2a\u7a7a\u5bf9\u8c61\uff0c\u5f53\u6570\u636e\u8fd8\u6ca1\u6709\u83b7\u53d6\u5230\u7684\u65f6\u5019\u8fd4\u56de\uff0c\u6570\u636e\u83b7\u53d6\u5230\u4e86\u518d\u8fdb\u884c\u66ff\u6362  search\u7ec4\u4ef6\u540c\u7406"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"categoryView(state){\n        return state.goodsInfo.categoryView || {}\uff08\u8fd9\u91cc\u7684\u7a7a\u5bf9\u8c61\u8981\u6839\u636e\u6570\u636e\u662f\u5bf9\u8c61\u8fd8\u662f\u6570\u7ec4\u8fdb\u884c\u53d8\u5316\uff09\n    },\n")),(0,a.kt)("p",null,"\u7b2c\u56db\u6b65\uff1a\u52a8\u6001\u5c55\u793a"),(0,a.kt)("p",null,"\u200b\t\u4f7f\u7528mapGetters\u83b7\u53d6\u5230\u6570\u636e\u8fdb\u884c\u52a8\u6001\u5c55\u793a"),(0,a.kt)("p",null,"\u8fd9\u91cc\u5728\u7ed9\u653e\u5927\u955czoom\u7ec4\u4ef6\u4f20\u9012\u6570\u636e\u7684\u65f6\u5019\u8fd8\u662f\u4f1a\u51fa\u73b0\u4e0a\u9762\u7c7b\u4f3c\u7684\u5047\u62a5\u9519\uff0c\u5373\u670d\u52a1\u5668\u7684\u6570\u636e\u8fd8\u6ca1\u6709\u8fd4\u56de\u5c31\u5728\u9875\u9762\u4e0a\u5c55\u793a\uff0c\u867d\u7136\u4e0d\u5f71\u54cd\u4ee3\u7801\u8fd0\u884c\uff0c\u4f46\u662f\u4f1a\u62a5\u7ea2\uff0c\u89e3\u51b3\u65b9\u6cd5\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"//\u5728\u7236\u7ec4\u4ef6\u4e2d\ncomputed\uff1a{\n    skuImageList(){\n        return this.skuInfo.skuImageList || []\n      }\n}\n //\u7136\u540e\u518d\u4f20\u9012\u7ed9\u5b50\u7ec4\u4ef6\n <Zoom :skuImageList = 'skuImageList' />\n //\u5728\u5b50\u7ec4\u4ef6\u4e2d\n computed:{\n      objList(){\n        return this.skuImageList[0] || {}\n      }\n //\u5b50\u7ec4\u4ef6\u52a8\u6001\u5c55\u793a\n <img :src=\"objList.imgUrl\" />\n")),(0,a.kt)("h3",{id:"\u552e\u5356\u5c5e\u6027\u7684class\u5c5e\u6027\u52a8\u6001\u70b9\u51fb\u53d8\u5316"},"\u552e\u5356\u5c5e\u6027\u7684class\u5c5e\u6027\u52a8\u6001\u70b9\u51fb\u53d8\u5316"),(0,a.kt)("p",null,"\u6392\u4ed6\u65b9\u6cd5\uff0c\u5373\u62ff\u51faischecked\u6240\u5728\u7684\u56db\u4e2a\u5bf9\u8c61\uff0c\u628a\u56db\u4e2a\u5bf9\u8c61\u7684ischecked\u5168\u90e8\u4e3a0\uff0c\u518d\u628a\u70b9\u51fb\u7684\u90a3\u4e2a\u5bf9\u8c61\u8bbe\u7f6e\u4e3a1"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'//\u524d\u9762\u7684\u662f\u70b9\u51fb\u7684\u5bf9\u8c61\uff0c\u540e\u9762\u7684\u662f\u6240\u6709\u7684\n@click="changeIsChecked(spuSaleAttrValue,spuSaleAttr.spuSaleAttrValueList)"\n//\u4e8b\u4ef6\u76d1\u542c\nchangeIsChecked(saleAttrValue,arr){\n        arr.forEach(item => {\n          item.isChecked = 0\n  //\u8fd9\u91cc\u7684item\u662fspuSaleAttrValueList\u7684\u4e24\u4e2a\u4e2d\u7684\u4e00\u4e2a\n          // console.log(item);\n        });\n        saleAttrValue.isChecked = 1\n      }\n')),(0,a.kt)("h3",{id:"\u653e\u5927\u955czoom\u548cimagelist\u7ec4\u4ef6"},"\u653e\u5927\u955czoom\u548cimageList\u7ec4\u4ef6"),(0,a.kt)("h5",{id:"1\u70b9\u51fb\u54ea\u4e2a\u8f6e\u64ad\u56fe\u54ea\u4e2a\u8f6e\u64ad\u56fe\u5c31\u6709\u9ad8\u4eae\u6548\u679c\u548c\u4e0a\u9762\u7684\u4e09\u7ea7\u5217\u8868\u7c7b\u4f3c"},"1.\u70b9\u51fb\u54ea\u4e2a\u8f6e\u64ad\u56fe\u54ea\u4e2a\u8f6e\u64ad\u56fe\u5c31\u6709\u9ad8\u4eae\u6548\u679c",(0,a.kt)("strong",{parentName:"h5"},"\uff08\u548c\u4e0a\u9762\u7684\u4e09\u7ea7\u5217\u8868\u7c7b\u4f3c\uff09")),(0,a.kt)("p",null,"\u200b\t1.\u8bbe\u7f6e\u4e00\u4e2a\u54cd\u5e94\u5f0f\u6570\u636e\uff0c\u9ed8\u8ba4\u662f0\uff0c\u5f53\u54cd\u5e94\u5f0f\u6570\u636e\u548c\u56fe\u7247\u7684\u7d22\u5f15\u503c\u76f8\u7b49\u65f6\uff0c\u52a8\u6001\u6dfb\u52a0class\u5c5e\u6027"),(0,a.kt)("p",null,"\u200b\t2.\u6dfb\u52a0\u4e00\u4e2a\u70b9\u51fb\u76d1\u542c\uff0c\u4f20\u5f53\u524d\u70b9\u51fb\u7684\u56fe\u7247\u7684\u7d22\u5f15\u503c\uff0c\u5c06\u54cd\u5e94\u5f0f\u6570\u636e\u6539\u6210\u7d22\u5f15\u503c"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'//\u56fe\u7247\n<img :src="image.imgUrl" :class="{active:currentIndex==index}" @click="changeCurrentIndex(index)" >\n//\u8bbe\u7f6e\u7684\u54cd\u5e94\u5f0f\u6570\u636e\ndata() {\n      return {\n        currentIndex:0\n      }\n    },\n//\u70b9\u51fb\u4e8b\u4ef6\nchangeCurrentIndex(index){\n        this.currentIndex = index\n      }\n')),(0,a.kt)("h5",{id:"2\u4f7f\u7528\u5168\u5c40\u65f6\u95f4\u603b\u7ebf\u901a\u77e5zoom\u7ec4\u4ef6\u5c55\u793a\u70b9\u51fb\u7684\u5927\u56fe"},"2.\u4f7f\u7528\u5168\u5c40\u65f6\u95f4\u603b\u7ebf\u901a\u77e5zoom\u7ec4\u4ef6\u5c55\u793a\u70b9\u51fb\u7684\u5927\u56fe"),(0,a.kt)("p",null,"\u200b\t1.\u5728changeCurrentIndex\u4e8b\u4ef6\u4e2d\uff1athis.$bus.$emit('getIndex',index)"),(0,a.kt)("p",null,"\u200b\t2.\u5728zoom\u7ec4\u4ef6\u4e2d\u63a5\u6536\u70b9\u51fb\u7684\u56fe\u7247\u7d22\u5f15\u503c"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"mounted(){\n    this.$bus.$on('getIndex',(index)=>{\n        //index\u662fimageList\u4f20\u9012\u8fc7\u6765\u7684\u7d22\u5f15\u503c\n        //\u5728data\u4e2d\u914d\u7f6e\u4e00\u4e2a\u54cd\u5e94\u5f0f\u7684\u6570\u636eimageIndex = 0\uff0c\u9ed8\u8ba4\u662f\u7b2c\u4e00\u5f20\n        this.imageIndex = index\n        //\u7136\u540e\u5728\u8bbe\u7f6e\u5c55\u793a\u7684\u662f\u7b2cimageIndex\u5f20\n    })\n}\n")),(0,a.kt)("h5",{id:"3\u653e\u5927\u955c\u6548\u679c"},"3.\u653e\u5927\u955c\u6548\u679c"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'<div class="spec-preview">\n    <img :src="objList.imgUrl" />\n    \x3c!-- \u7ed1\u5b9a\u9f20\u6807\u79fb\u52a8\u4e8b\u4ef6\u7684 --\x3e\n    <div class="event" @mousemove="zoom"></div>\n    <div class="big">\n      <img :src="objList.imgUrl" ref="bigImg" />\n    </div>\n    \x3c!-- \u8499\u7248 --\x3e\n    <div class="mask" ref="mask"></div>\n  </div>\n  \n  \n  zoom(event){\n        let mask = this.$refs.mask\n        let bigImg = this.$refs.bigImg\n        let left = event.offsetX - mask.offsetWidth/2\n        let top = event.offsetY - mask.offsetHeight/2\n        //\u7ea6\u675f\u8499\u7248\u79fb\u52a8\u7684\u8303\u56f4\n        if(left <= 0) left = 0\n        if(left > mask.offsetWidth) left = mask.offsetWidth\n        if(top <= 0) top = 0\n        if(top > mask.offsetHeight) top = mask.offsetHeight\n        //\u8bbe\u7f6e\u8499\u7248\u7684top|left\n        mask.style.left = left + \'px\'\n        mask.style.top = top + \'px\'\n        //\u8bbe\u7f6e\u5927\u56fe\u7684top|left\n        bigImg.style.left = -2*left +\'px\'\n        bigImg.style.top = -2*top +\'px\'\n      }\n')),(0,a.kt)("h3",{id:"\u5546\u54c1\u6570\u52a0\u4e00\u51cf\u4e00\u4ee5\u53ca\u7528\u6237\u8f93\u5165\u6570\u91cf"},"\u5546\u54c1\u6570\u52a0\u4e00\u51cf\u4e00\u4ee5\u53ca\u7528\u6237\u8f93\u5165\u6570\u91cf"),(0,a.kt)("p",null,"\u200b\t1.\u8bbe\u7f6e\u4e00\u4e2a\u54cd\u5e94\u5f0f\u7684\u6570\u636eskuNum\uff0c\u9ed8\u8ba4\u503c\u662f1"),(0,a.kt)("p",null,"\u200b\t2.\u5199+ - \u7684\u903b\u8f91\uff0c\u5c0f\u4e8e1\u7684\u65f6\u5019\u4e0d\u80fd\u518d\uff0d"),(0,a.kt)("p",null,"\u200b\t3.\u63a7\u5236\u7528\u6237\u8f93\u5165\u7684\u6587\u672c"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'<input autocomplete="off" class="itxt" v-model="skuNum" @change="changeSkuNum" />\n<a href="javascript:" class="plus" @click="skuNum++">+</a>\n<a href="javascript:" class="mins" @click="skuNum<=1 ? skuNum=1 : skuNum--">-</a>\n\n\nchangeSkuNum(event){\n      //\u8ba9\u7528\u6237\u8f93\u5165\u7684\u6587\u672c * 1\uff0c\u5982\u679c\u662f\u975e\u6cd5\u7684\u90a3\u4e48\u5c31\u662f NaN\n      let val = event.target.value * 1\n      //\u5982\u679c\u8f93\u5165\u662f\u975e\u6cd5\u7684NaN\u6216\u8005\u662f\u5c0f\u4e8e1\u7684\u6570\n      if(isNaN(val)||val<1){\n        this.skuNum = 1\n      }else{\n        //\u5982\u679c\u662f\u5408\u6cd5\u7684\u5927\u4e8e1\u7684\u6570\uff0c\u4f46\u662f\u6709\u5c0f\u6570\u7684\u8bdd\u5c31\u8981\u8fdb\u884c\u53d6\u6574\n        this.skuNum = Math.floor(val)\n      }\n    }\n')),(0,a.kt)("h1",{id:"16\u52a0\u5165\u8d2d\u7269\u8f66\u6210\u529f\u7ec4\u4ef6"},"16.\u52a0\u5165\u8d2d\u7269\u8f66\u6210\u529f\u7ec4\u4ef6"),(0,a.kt)("h3",{id:"\u5728\u8be6\u60c5\u7ec4\u4ef6\u70b9\u51fb\u52a0\u5165\u8d2d\u7269\u8f66\u6309\u94ae\u8981\u6dfb\u52a0\u7684\u4e8b\u4ef6"},"\u5728\u8be6\u60c5\u7ec4\u4ef6\u70b9\u51fb\u52a0\u5165\u8d2d\u7269\u8f66\u6309\u94ae\u8981\u6dfb\u52a0\u7684\u4e8b\u4ef6"),(0,a.kt)("p",null,"\u200b\t1.\u5199api\uff0c\u7ed9\u670d\u52a1\u5668\u53d1\u8bf7\u6c42"),(0,a.kt)("p",null,"\u200b\t2.\u7ed9\u52a0\u5165\u8d2d\u7269\u8f66\u6309\u94ae\u6dfb\u52a0\u70b9\u51fb\u4e8b\u4ef6"),(0,a.kt)("p",null,"\u200b\t\t\t1.\u5148\u6d3e\u53d1action\u8bf7\u6c42\uff0c\u8ba9\u4ed3\u5e93\u53d1\u8bf7\u6c42\uff08\u5e26\u7740\u5546\u54c1id\u548c\u5546\u54c1\u7684\u6570\u91cf\uff09\u7ed9\u670d\u52a1\u5668\uff0c\u8ba9\u670d\u52a1\u5668\u5199\u5165\u8d2d\u7269\u8f66\u6dfb\u52a0\u7684\u5546\u54c1\u4fe1\u606f\uff0c\u7136\u540e\u8fd4\u56de\u6210\u529f\t\t\t\t\u6216\u8005\u5931\u8d25\u7ed9\u8be6\u60c5\u7ec4\u4ef6\uff0c\u82e5\u6210\u529f\uff0c\u8fdb\u884c\u8def\u7531\u8df3\u8f6c\uff0c\u82e5\u5931\u8d25\uff0c\u544a\u8bc9\u7528\u6237\u5931\u8d25\u4e86"),(0,a.kt)("p",null,"\u200b\t\t\t2.\u6ce8\u518c\u8d2d\u7269\u8f66\u7ec4\u4ef6\uff0c\u6210\u529f\u8df3\u8f6c"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"}," //\u4ed3\u5e93\u4e2d    \u5c06\u4ea7\u54c1\u52a0\u5165\u8d2d\u7269\u8f66\n    async addOrUpdateShopCart({commit},{skuId,skuNum}){\n//\u7531\u4e8e\u7ed9\u670d\u52a1\u5668\u53d1\u8bf7\u6c42\uff0c\u524d\u53f0\u5c06\u8981\u5199\u5165\u7684\u6570\u636e\u53d1\u7ed9\u670d\u52a1\u5668\uff0c\u670d\u52a1\u5668\u5e76\u6ca1\u6709\u8fd4\u56de\u6570\u636e\uff0c\u53ea\u544a\u8bc9\u524d\u53f0\u64cd\u4f5c\u6210\u529f\u6216\u8005\u5931\u8d25\uff0c\u6240\u4ee5\u4e0d\u7528\u518d\u5b58\u50a8\u6570\u636e\n        let res = await reqAddOrUpdateShopCart(skuId,skuNum)\n        if (res.code == 200) {\n            return 'ok'\n        }else{\n            return Promise.reject(new Error('faile'))\n        }\n    }\n//\u7ec4\u4ef6\u4e2d\u7ed9\u6309\u94ae\u6dfb\u52a0\u7684\u70b9\u51fb\u4e8b\u4ef6    \nasync addOrUpdateShopCart(){\n      //1.\u53d1\u8bf7\u6c42\uff0c\u5c06\u4ea7\u54c1\u4fe1\u606f\u5199\u5165\u670d\u52a1\u5668\n      //2.\u83b7\u53d6\u5230\u4ed3\u5e93\u4e2d\u8fd4\u56de\u7684\u6210\u529f\u6216\u8005\u5931\u8d25\u7684\u4fe1\u606f\uff0c\u82e5\u6210\u529f\uff0c\u8fdb\u884c\u8def\u7531\u8df3\u8f6c\uff0c\u82e5\u5931\u8d25\uff0c\u544a\u8bc9\u7528\u6237\u5931\u8d25\u4e86\n   try {\n      await this.$store.dispatch('addOrUpdateShopCart'\uff0c{skuId:this.$route.params.skuId,skuNum:this.skuNum})\n        //\u6210\u529f\u8df3\u8f6c\n      this.$router.push({name:'shopcart'})\n    } catch (error) {\n      //\u5931\u8d25\u63d0\u9192\n      alert(error.message)\n    }\n\n  }\n")),(0,a.kt)("h3",{id:"\u5411\u52a0\u5165\u8d2d\u7269\u8f66\u6210\u529f\u7ec4\u4ef6\u4f20\u9012\u53c2\u6570"},"\u5411\u52a0\u5165\u8d2d\u7269\u8f66\u6210\u529f\u7ec4\u4ef6\u4f20\u9012\u53c2\u6570"),(0,a.kt)("p",null,"\u200b\t\t1.\u53ef\u4ee5\u4f7f\u7528\u8def\u7531\u8df3\u8f6c\u5e26\u53c2\u6570\uff0c\u4f46\u662f\u8fd9\u6837\u5730\u5740\u680f\u4e0d\u592a\u7f8e\u89c2"),(0,a.kt)("p",null,"\u200b\t",(0,a.kt)("strong",{parentName:"p"},"\u672c\u5730\u5b58\u50a8\u548c\u4f1a\u8bdd\u5b58\u50a8\u7684\u533a\u522b\uff1a"),"   \u4e00\u822c\u5b58\u50a8\u7684\u90fd\u662f\u5b57\u7b26\u4e32"),(0,a.kt)("p",null,"\u200b\t\t\t\u672c\u5730\u5b58\u50a8\uff1a\u6301\u4e45\u5316\uff08\u7535\u8111\u5173\u673a\uff0c\u6d4f\u89c8\u5668\u5173\u95ed\u6570\u636e\u8fd8\u5728\uff09\uff0c\u6570\u636e\u5185\u5b58\u4e0a\u96505m"),(0,a.kt)("p",null,"\u200b\t\t\t\u4f1a\u8bdd\u5b58\u50a8\uff1a\u5e76\u975e\u6301\u4e45\uff08\u7535\u8111\u5173\u673a\uff0c\u6d4f\u89c8\u5668\u5173\u95ed\uff0c\u9875\u9762\u5173\u95ed\u6570\u636e\u5c31\u6d88\u5931\u4e86\uff09"),(0,a.kt)("p",null,"\u200b\t",(0,a.kt)("strong",{parentName:"p"},"\u6240\u4ee5\u8fd9\u91cc\u4f7f\u7528\u4f1a\u8bdd\u5b58\u50a8\u4f20\u9012\u53c2\u6570"),"\t"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"//\u8be6\u60c5\u7ec4\u4ef6\u8df3\u8f6c\u4ee5\u53ca\u4f7f\u7528\u4f1a\u8bdd\u5b58\u50a8\u4fdd\u5b58\u6570\u636e\uff08\u7b80\u5355\u7684\u6570\u636e\u53ef\u4ee5\u4f7f\u7528\u8def\u7531\u8df3\u8f6c\u5e26\u8fc7\u53bb\uff09\nthis.$router.push({name:'shopcart',query:{skuNum:this.skuNum}})\nsessionStorage.setItem('SKUINFO',JSON.stringify(this.skuInfo))\n//\u52a0\u5165\u8d2d\u7269\u8f66\u6210\u529f\u7ec4\u4ef6\u4ece\u4f1a\u8bdd\u5b58\u50a8\u4e2d\u83b7\u53d6\u6570\u636e\ncomputed:{\n      skuInfo(){\n        return JSON.parse(sessionStorage.getItem('SKUINFO'))\n      }\n")),(0,a.kt)("p",null,"\u7136\u540e\u52a8\u6001\u5c55\u793a\u6570\u636e"),(0,a.kt)("h3",{id:"\u8bbe\u7f6e\u52a0\u5165\u8d2d\u7269\u8f66\u6210\u529f\u7684\u4e24\u4e2a\u6309\u94ae"},"\u8bbe\u7f6e\u52a0\u5165\u8d2d\u7269\u8f66\u6210\u529f\u7684\u4e24\u4e2a\u6309\u94ae"),(0,a.kt)("p",null,"\u200b\t\u8fd4\u56de\u8be6\u60c5\uff1a\u8def\u7531\u8df3\u8f6c\u5230\u8be6\u60c5\u9875\u9762\u5e76\u5e26\u56de\u5546\u54c1id\u53c2\u6570"),(0,a.kt)("p",null,"\u200b\t\u53bb\u8d2d\u7269\u8f66\u7ed3\u7b97\uff1a\u8def\u7531\u8df3\u8f6c\u5230\u8d2d\u7269\u8f66\u754c\u9762\uff0c\u5f15\u5165\u8d2d\u7269\u8f66\u7ec4\u4ef6\uff0c\u6ce8\u518c\u8def\u7531\u7ec4\u4ef6"),(0,a.kt)("h1",{id:"17\u8d2d\u7269\u8f66\u7ec4\u4ef6"},"17.\u8d2d\u7269\u8f66\u7ec4\u4ef6"),(0,a.kt)("p",null,"1.\u5199\u63a5\u53e3\uff0cvuex\u4e09\u8fde\u73af\uff0c\u53d1\u8bf7\u6c42\uff0c\u4fdd\u5b58\u6570\u636e\uff0c\u5728\u8d2d\u7269\u8f66\u7ec4\u4ef6\u5c55\u793a\u6570\u636e"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"\u4f46\u662f\u8fd9\u91cc\u670d\u52a1\u5668\u5e76\u4e0d\u77e5\u9053\u4f60\u662f\u8c01"),"\uff0c",(0,a.kt)("strong",{parentName:"p"},"\u6240\u4ee5\u4e0d\u4f1a\u8fd4\u56de\u6570\u636e"),"\uff0c"),(0,a.kt)("h3",{id:"1\u6e38\u5ba2\u8eab\u4efd\u83b7\u53d6\u8d2d\u7269\u8f66\u6570\u636e"},"1.\u6e38\u5ba2\u8eab\u4efd\u83b7\u53d6\u8d2d\u7269\u8f66\u6570\u636e"),(0,a.kt)("p",null,"\u200b\t1.\u6dfb\u52a0UUID-token\u8ba9\u670d\u52a1\u5668\u77e5\u9053\u4f60\u662f\u8c01"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"//\u65b0\u5efa\u4e00\u4e2a\u6587\u4ef6\u5939utils\uff0c\u521b\u5efa\u4e00\u4e2ajs\u6587\u4ef6uuid_token\uff0c\u751f\u6210\u4e00\u4e2aid\uff0c\u5b58\u50a8\u5728\u672c\u5730\n\nimport {v4 as uuidv4} from 'uuid'\n//\u751f\u6210\u4e00\u4e2a\u968f\u673a\u5b57\u7b26\u4e32\uff0c\u4e14\u6bcf\u6b21\u6267\u884c\u4e0d\u80fd\u53d1\u751f\u53d8\u5316\uff0c\u6e38\u5ba2\u8eab\u4efd\u8981\u6301\u4e45\u5b58\u50a8\nexport const getUUID = ()=>{\n    //\u68c0\u6d4b\u672c\u5730\u5b58\u50a8\u4e2d\u6709\u6ca1\u6709UUID\n    let uuid_token = localStorage.getItem('UUIDTOKEN')\n    //\u5982\u679c\u6ca1\u6709\uff0c\u5219\u751f\u6210\u4e00\u4e2a\u5b58\u50a8\u5230\u672c\u5730\n    if(!uuid_token){\n        uuid_token = uuidv4()\n        localStorage.setItem('UUIDTOKEN',uuid_token)\n    }\n   //\u5343\u4e07\u522b\u5fd8\u4e86\u8fd4\u56de\u503c\n    return uuid_token\n}\n")),(0,a.kt)("p",null,"\u200b\t2.\u628auuid\u5b58\u50a8\u5728\u4ed3\u5e93\u4e2d"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"   //\u8bb0\u5f97\u5f15\u5165\u5c01\u88c5\u597d\u7684\u51fd\u6570\n   uuid_token:getUUID()\n")),(0,a.kt)("p",null,"\u200b\t3.\u628auuid\u4f5c\u4e3a\u8bf7\u6c42\u5934\u5e26\u7ed9\u670d\u52a1\u5668"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"//\u8bf7\u6c42\u62e6\u622a\u5668\nrequests.interceptors.request.use((config)=>{\n    //config  \u5c31\u662f\u914d\u7f6e\u5bf9\u8c61\uff0c\u91cc\u9762\u6709\u4e00\u4e2a\u5f88\u91cd\u8981\u7684\u5c5e\u6027    headers \u8bf7\u6c42\u5934\n    //\u5728\u8bf7\u6c42\u5934\u4e2d\u52a0\u4e00\u4e2a\u5b57\u6bb5\uff08userTempId\uff09 \u4e0d\u80fd\u968f\u4fbf\u5199\uff0c\u8fd9\u4e2a\u662f\u8981\u548c\u540e\u53f0\u5546\u91cf\u7684\n    if(store.state.detail.uuid_token){\n    //\u5982\u679c\u4ed3\u5e93\u4e2d\u6709uuid\uff0c\u90a3\u4e48\u5c31\u628auuid\u5199\u5728\u8bf7\u6c42\u5934\u4e0a\u5e26\u8fc7\u53bb\n        config.headers.userTempId = store.state.detail.uuid_token\n    }\n    nProgress.start()\n    return config\n})\n")),(0,a.kt)("p",null,"\u8fd9\u6837\u670d\u52a1\u5668\u5c31\u77e5\u9053\u4f60\u662f\u8c01\uff0c\u5c31\u4f1a\u8fd4\u56de\u76f8\u5e94\u7684\u8d2d\u7269\u8f66\u6570\u636e"),(0,a.kt)("h3",{id:"2\u670d\u52a1\u5668\u53ef\u4ee5\u8fd4\u56de\u6570\u636e\u4e86\u5c31\u9700\u8981\u4ed3\u5e93\u5b58\u50a8\u7ec4\u4ef6\u83b7\u53d6\u52a8\u6001\u5c55\u793a"},"2.\u670d\u52a1\u5668\u53ef\u4ee5\u8fd4\u56de\u6570\u636e\u4e86\uff0c\u5c31\u9700\u8981\u4ed3\u5e93\u5b58\u50a8\uff0c\u7ec4\u4ef6\u83b7\u53d6\uff0c\u52a8\u6001\u5c55\u793a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'const getters = {\n    cartList(state){\n        return state.shopCartList[0] || {}\n    }\n}\n\n...mapGetters(["cartList"]),\n\n    //\u8d2d\u7269\u8f66\u7684\u6570\u636e\n   cartInfoList() {\n      return this.cartList.cartInfoList||[];\n    },\n  \n  \n //\u5e95\u90e8\u590d\u9009\u6846\u5168\u9009\n     isAllCheck(){\n      //\u904d\u5386\u6570\u7ec4\u91cc\u9762\u7684\u6240\u4ee5\u5143\u7d20\uff0c\u53ea\u8981\u6709\u4e00\u4e2aischecked\u4e0d\u662f1\uff0c\u5c31\u8fd4\u56defalse \uff0c\u662f1\u8fd4\u56detrue\n      return this.cartInfoList.every(item=>item.isChecked==1)\n    }\n')),(0,a.kt)("p",null,"\u7136\u540ev-for\u904d\u5386\u5546\u54c1\uff0c\u52a8\u6001\u5c55\u793a"),(0,a.kt)("h3",{id:"3\u8d2d\u7269\u8f66\u5546\u54c1\u6570\u91cf\u52a0\u51cf\u81ea\u5b9a\u4e49\u8981\u4f7f\u7528\u8282\u6d41"},"3.\u8d2d\u7269\u8f66\u5546\u54c1\u6570\u91cf\u52a0\u51cf\u81ea\u5b9a\u4e49\u3010\u8981\u4f7f\u7528\u8282\u6d41\u3011"),(0,a.kt)("p",null,"\u200b\t1.\u7ed9\uff0b\uff0c-\uff0c\u4ee5\u53cainput\u6846\u6dfb\u52a0\u4e8b\u4ef6"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'<a href="javascript:void(0)" class="mins" @click="handler(minus,-1,cart)">-</a>\n<input autocomplete="off" type="text" :value="cart.skuNum" minnum="1" class="itxt"\n              @change="handler(change,$event.target.value,cart)"/>\n<a href="javascript:void(0)" class="plus" @click="handler(add,1,cart)">+</a>\n')),(0,a.kt)("p",null,"\u200b\t2.\u8bbe\u7f6ehandler\u4e8b\u4ef6\u3010\u8981\u8282\u6d41\uff0c\u4e0d\u7136\u70b9\u51fb\u8fc7\u5feb\u662f\u4f1a\u51fa\u73b0\u5546\u54c1\u6570\u91cf\u4e3a0\u6216\u8005\u8d1f\u6570\u7684\u60c5\u51b5\u3011"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"}," handler:throttle(async function(type,disNum,cart){\n      //type\uff1a\u4e3a\u4e86\u533a\u5206\u4e09\u4e2a\u5143\u7d20\n      //disNum\uff1a\u53d8\u5316\u91cf\uff081\uff0c-1\uff09\uff0cinput\u662f\u6700\u7ec8\u503c\uff0c\u4e0d\u662f\u53d8\u5316\u91cf\n      //cart\uff1a\u54ea\u4e00\u4e2a\u4ea7\u54c1\u3010\u8eab\u4e0a\u6709id\u3011\n      //\u5982\u679c\u70b9\u7684\u662f+\n      if(type == 'add'){\n        disNum = 1\n      //\u5982\u679c\u70b9\u7684\u662f-\n      }else if(type == 'minus'){\n        if(cart.skuNum > 1){\n          disNum = -1\n        }else{\n          disNum = 0\n        }\n      //\u5982\u679c\u4fee\u6539\u7684\u662f\u6587\u672c\u6846\u7684\u5185\u5bb9\n      }else if(type == 'change'){\n        //\u5982\u679c\u8f93\u5165\u7684\u662f\u975e\u6cd5\u7684\u6216\u8005\u662f\u5c0f\u4e8e1\u7684\n        if(isNaN(disNum*1)||disNum < 1){\n          disNum = 0\n        }else{\n          //\u662f\u6b63\u5e38\u7684\u4f46\u662f\u53ef\u80fd\u662f\u5c0f\u6570\n          disNum = Math.floor(disNum) - cart.skuNum\n        }\n      }\n      //\u5411\u670d\u52a1\u5668\u53d1\u8bf7\u6c42\uff0c\u4fee\u6539\u8d2d\u7269\u8f66\u6570\u636e\n      try {\n       await this.$store.dispatch('addOrUpdateShopCart',{skuId : cart.skuId,skuNum : disNum})\n       //\u66f4\u65b0\u6570\u636e\n        this.getData()\n      } catch (error) {\n        alert(new Error('falie'))\n      }\n    },1000)\n\n")),(0,a.kt)("h3",{id:"4\u8d2d\u7269\u8f66\u67d0\u4ea7\u54c1\u5220\u9664\u6309\u94ae"},"4.\u8d2d\u7269\u8f66\u67d0\u4ea7\u54c1\u5220\u9664\u6309\u94ae"),(0,a.kt)("p",null,"\u200b\t1.\u5199api\u8bf7\u6c42\uff0c\u5728\u4ed3\u5e93\u4e2d\u5199\u8bf7\u6c42\uff0c\u7ed9\u6309\u94ae\u7ed1\u5b9a\u4e8b\u4ef6"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"    //\u5220\u9664\u8d2d\u7269\u8f66\u67d0\u4e00\u4e2a\u5546\u54c1\n    async deleteCart({commit},skuId){\n        let res = await reqDeleteCart(skuId)\n        if(res.code == 200){\n            return 'ok'\n        }else{\n            return Promise.reject(new Error('faile'))\n        }\n    }\n    \n //\u7ed1\u5b9a\u4e8b\u4ef6\n <a class=\"sindelet\" @click=\"deleteCart(cart)\">\u5220\u9664</a>\n")),(0,a.kt)("p",null,"\u200b\t2.\u5199\u4e8b\u4ef6\u56de\u8c03,"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"    async deleteCart(cart){\n      try {\n      //\u6d3e\u53d1\u5220\u9664\u7684\u8bf7\u6c42\n        await this.$store.dispatch('deleteCart',cart.skuId)\n       //\u66f4\u65b0\u9875\u9762\n        this.getData()\n      } catch (error) {\n        alert(error.message)\n      }\n    }\n")),(0,a.kt)("h3",{id:"5\u4fee\u6539\u4ea7\u54c1\u7684\u52fe\u9009\u72b6\u6001"},"5.\u4fee\u6539\u4ea7\u54c1\u7684\u52fe\u9009\u72b6\u6001"),(0,a.kt)("p",null,"\u200b\t1.\u5199api\u8bf7\u6c42\uff0c\u5728\u4ed3\u5e93\u4e2d\u5199\u8bf7\u6c42\uff0c\u7ed9\u6309\u94ae\u7ed1\u5b9a\u4e8b\u4ef6"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'    //\u4fee\u6539\u8d2d\u7269\u8f66\u4ea7\u54c1\u9009\u4e2d\u72b6\u6001\n    async updateChecked({commit},{skuId,isChecked}){\n        let res = await reqUpdateChecked(skuId,isChecked)\n        if(res.code == 200){\n            return \'ok\'\n        }else{\n            return Promise.reject(new Error(\'falie\'))\n        }\n    }\n    //\u7ed1\u5b9a\u4e8b\u4ef6\n   <input type="checkbox" name="chk_list" :checked="cart.isChecked == 1"\n              @change="updateChecked(cart,$event)" />\n')),(0,a.kt)("p",null,"\u200b\t2.\u4e8b\u4ef6\u56de\u8c03"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"   async updateChecked(cart,event){\n      try {\n        let isChecked = event.target.checked ? 1:0\n        await this.$store.dispatch('updateChecked',{skuId:cart.skuId,isChecked})\n        this.getData()\n      } catch (error) {\n        alert(error.message)\n      }\n    }\n")),(0,a.kt)("h3",{id:"6\u5220\u9664\u9009\u4e2d\u7684\u5546\u54c1"},"6.\u5220\u9664\u9009\u4e2d\u7684\u5546\u54c1"),(0,a.kt)("p",null,"\u200b\t1.\u8bbe\u7f6e\u70b9\u51fb\u4e8b\u4ef6"),(0,a.kt)("p",null,"\u200b\t2.\u56de\u8c03\u51fd\u6570"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"    deleteAllCheckedCart(){\n      this.cartInfoList.forEach(item=>{\n        if(item.isChecked == 1){\n          this.deleteCart(item)\n        }\n      })\n    }\n")),(0,a.kt)("p",null,"\u200b\t",(0,a.kt)("strong",{parentName:"p"},"\u6216\u8005"),"\uff1a\u5728\u4ed3\u5e93\u4e2d"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"//\u5220\u9664\u9009\u4e2d\u7684\u5546\u54c1\n     deleteAllCart({ commit, state, dispatch }) {\n          let arr = [];\n          //\u83b7\u53d6\u4ed3\u5e93\u91cc\u9762\u8d2d\u7269\u8f66\u7684\u6570\u636e\n          state.shopCartInfo[0].cartInfoList.forEach(item => {\n               //\u5546\u54c1\u7684\u52fe\u9009\u72b6\u6001\u662f\u52fe\u9009\u7684,\u53d1\u8bf7\u6c42\u4e00\u4e2a\u4e00\u4e2a\u5220\u9664\n               if (item.isChecked == 1) {\n                    let ps = dispatch('deleteCartById', item.skuId);\n                    //\u5c06\u6bcf\u4e00\u6b21\u8fd4\u56de\u7684promise\u6dfb\u52a0\u5230\u6570\u7ec4\u4e2d\n                    arr.push(ps);\n               }\n          })\n          //\u53ea\u6709\u6240\u6709\u7684\u90fd\u6210\u529f\uff0c\u624d\u8fd4\u56de\u6210\u529f\uff0c\u6709\u4e00\u4e2a\u5931\u8d25\uff0c\u8fd4\u56de\u7684\u7ed3\u679c\u5373\u4e3a\u5931\u8d25\n          return Promise.all(arr);\n     }\n")),(0,a.kt)("p",null,"\u200b\t\u7ec4\u4ef6\u4e2d"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"    //\u5220\u9664\u9009\u4e2d\u7684\u5546\u54c1\n    async deleteAllCart(){\n       try {\n         //\u7b49\u5f85\u5168\u90e8\u52fe\u9009\u5546\u54c1\u5220\u9664\u4ee5\u540e\n         await  this.$store.dispatch('deleteAllCart');\n         //\u518d\u6b21\u83b7\u53d6\u8d2d\u7269\u8f66\u7684\u6570\u636e\n         this.getData();\n       } catch (error) {\n         alert('\u5220\u9664\u5931\u8d25');\n       }\n    }\n")),(0,a.kt)("h3",{id:"7\u5168\u9009\u6309\u94ae\u7684\u52fe\u9009"},"7.\u5168\u9009\u6309\u94ae\u7684\u52fe\u9009"),(0,a.kt)("p",null,"\u200b\t1.\u7ed1\u5b9a\u4e8b\u4ef6\uff0c\u5199\u56de\u8c03"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"<input class=\"chooseAll\" type=\"checkbox\" :checked='isAllCheck&&cartInfoList.length!=0' @change=\"updateAllCartChecked($event)\"/>\n <span>\u5168\u9009</span>\n \n //\u56de\u8c03\u51fd\u6570\n    async updateAllCartChecked(event){\n      try {\n        let isChecked = event.target.checked?1:0\n        await this.$store.dispatch('updateAllCartisChecked',isChecked)\n        this.getData()\n      } catch (error) {\n        alert(error.message)\n      }\n    }\n    \n    //\u5728\u4ed3\u5e93\u4e2d\u6d3e\u53d1action\u8bf7\u6c42\n    updateAllCartisChecked({dispatch,getters},isChecked){\n        let promiseAll = []\n        getters.cartList.cartInfoList.forEach(item => {\n            // if(isChecked==1){\n            //     item.isChecked = 1\n            //     dispatch('updateChecked',{skuId:item.skuId,isChecked:item.isChecked})\n            // }else{\n            //     item.isChecked = 0\n            //     dispatch('updateChecked',{skuId:item.skuId,isChecked:item.isChecked})\n            // }\n            let promise = dispatch('updateChecked',{skuId:item.skuId,isChecked})\n            promiseAll.push(promise)\n        });\n        return Promise.all(promiseAll)\n    }\n")),(0,a.kt)("h1",{id:"18\u767b\u5f55\u6ce8\u518c\u91cd\u8981"},"18.\u767b\u5f55\u6ce8\u518c\uff08\u91cd\u8981\uff01\uff01\uff01\uff09"),(0,a.kt)("h2",{id:"\u4e00\u6ce8\u518c\u8868\u5355\u9a8c\u8bc1\u540e\u9762\u518d\u8bf4"},"\u4e00\u3001\u6ce8\u518c\uff08\u8868\u5355\u9a8c\u8bc1\u540e\u9762\u518d\u8bf4\uff09"),(0,a.kt)("p",null,"1.\u8bbe\u7f6e\u54cd\u5e94\u5f0f\u6570\u636e\uff1aphone\uff0cpassword\uff0cpassword1\uff0ccode\uff0c\u4e14v--modle"),(0,a.kt)("p",null,"2.\u53d1\u9a8c\u8bc1\u7801"),(0,a.kt)("p",null,"\u200b\t\u2460.\u5199\u8bf7\u6c42"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"//\u83b7\u53d6\u9a8c\u8bc1\u7801\nexport const reqGetCode = (phone)=>requests({url:`/user/passport/sendCode/${phone}`,method:'get'})\n")),(0,a.kt)("p",null,"\u200b\t\u2461.\u5199action\u8bf7\u6c42"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"}," //\u83b7\u53d6\u9a8c\u8bc1\u7801\n    async getCode({commit},phone){\n    //\u8fd4\u56de\u7684\u662f\u9a8c\u8bc1\u7801\n      let res = await reqGetCode(phone)\n      if(res.code == 200){\n        commit('GETCODE',res.data)\n        return 'ok'\n      }else{\n        return Promise.reject(new Error('falie'))\n      }\n    },\n    \n    \u7531\u4e8e\u4e0d\u80fd\u76f4\u63a5\u53d1\u77ed\u4fe1\uff0c\u6240\u4ee5\u8981\u628a\u9a8c\u8bc1\u7801\u4fdd\u5b58\u5728\u4ed3\u5e93\u91cc\n")),(0,a.kt)("p",null,"\u200b\t\u2462\u3001\u7ed1\u5b9a\u4e8b\u4ef6\uff0c\u6d3e\u53d1action\u8bf7\u6c42\uff0c\u5411\u670d\u52a1\u5668\u53d1\u8bf7\u6c42"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"async getCode(){\n        try {\n          const {phone} = this\n          phone && await this.$store.dispatch('getCode',this.phone)\n          this.code = this.$store.state.user.code\n        } catch (error) {\n          alert(error.message)\n        }\n      },\n")),(0,a.kt)("p",null,"3.\u5b8c\u6210\u6ce8\u518c"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"//\u6ce8\u518c\nexport const reqUserRegister = (data)=>requests({url:'/user/passport/register',data,method:'post'})\n\n//\u6ce8\u518c\uff0caction\u8bf7\u6c42\n    async userRegister({commit},user){\n        let res = await reqUserRegister(user)\n        if(res.code == 200){\n            return 'ok'\n        }else{\n            return Promise.reject(new Error('falie'))\n        }\n    }\n    //\u7ed1\u5b9a\u4e8b\u4ef6\uff0c\u53d1\u8bf7\u6c42\uff0c\u8df3\u8f6c\u5230\u767b\u5f55\u754c\u9762\n        async userRegister(){\n        try {\n          const {phone,code,password,password1} = this\n          ;(phone&&code&&password == password1) && await this.$store.dispatch('userRegister',{phone,code,password})\n        this.$router.push('/login')\n        } catch (error) {\n          alert(error.message)\n        }\n      }\n    },\n")),(0,a.kt)("h2",{id:"\u4e8c\u767b\u5f55"},"\u4e8c\u3001\u767b\u5f55"),(0,a.kt)("p",null,"1.\u52a8\u6001\u83b7\u53d6\u8d26\u53f7\uff0c\u5bc6\u7801\u7684\u6570\u636e"),(0,a.kt)("p",null,"2.\u5199\u767b\u5f55\u7684\u63a5\u53e3\uff0c\u5728vuex\u4e2d\u5199\u8bf7\u6c42"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"//\u767b\u5f55\nexport const reqUserLogin = (data) => requests({url:'/user/passport/login',data,method:'post'})\n//\u5199action\uff0c\u628atoken\u50a8\u5b58\u5230state\u4e2d\n    async userLogin({commit},data){\n        let res = await reqUserLogin(data)\n        // console.log(res);\n        if(res.code == 200){\n            commit('USERLOGIN',res.data.token)\n            return 'ok'\n        }else{\n            return Promise.reject(new Error('falie'))\n        }\n    }\n")),(0,a.kt)("p",null,"3.\u5728\u7ec4\u4ef6\u4e2d\u8bbe\u7f6e\u70b9\u51fb\u4e8b\u4ef6\uff0c\u5199\u56de\u8c03\u51fd\u6570\uff0c\u767b\u5f55\u6210\u529f\u8df3\u8f6c\u5230\u4e3b\u9875"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"     async userLogin(){\n        try {\n          const {phone,password} = this\n        phone&&password&&await this.$store.dispatch('userLogin',{phone,password})\n        this.$router.push('/home')\n        } catch (error) {\n          alert(error.message)\n        }\n      }\n")),(0,a.kt)("h2",{id:"\u4e09\u767b\u5f55\u4e4b\u540e\u5728header\u7ec4\u4ef6\u52a8\u6001\u5c55\u793a\u7528\u6237\u7684\u4fe1\u606f"},"\u4e09\u3001\u767b\u5f55\u4e4b\u540e\u5728header\u7ec4\u4ef6\u52a8\u6001\u5c55\u793a\u7528\u6237\u7684\u4fe1\u606f"),(0,a.kt)("p",null,"1.\u5199\u8bf7\u6c42\uff0c\u5199action"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"//\u83b7\u53d6\u767b\u5f55\u7684\u7528\u6237\u4fe1\u606f\nexport const reqUserInfo = () => requests({url:'/user/passport/auth/getUserInfo',method:'get'})\n    //\u767b\u5f55\u65f6\u83b7\u53d6\u7528\u6237\u4fe1\u606f\n    async getUserInfo(){\n        let res = await reqUserInfo()\n        if(res.code == 200){\n            commit('GETUSERINFO',res.data)\n        }\n    }\n")),(0,a.kt)("p",null,"2.\u53d1\u8bf7\u6c42\u65f6\u5224\u65ad\u4ed3\u5e93\u91cc\u6709\u6ca1\u6709token\uff0c\u5982\u679c\u6709\u5c31\u4f5c\u4e3a\u8bf7\u6c42\u5934\u7684\u5b57\u6bb5\u5e26\u7ed9\u670d\u52a1\u5668"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"    if(store.state.user.token){\n        config.headers.token = store.state.user.token\n    }\n")),(0,a.kt)("p",null,"3.\u5728home\u7ec4\u4ef6\u6302\u8f7d\u5b8c\u6bd5\u7684\u65f6\u5019\uff0c\u6d3e\u53d1action\u8bf7\u6c42\uff0c\u5982\u679c\u4ed3\u5e93\u4e2dtoken\uff0c\u53d1\u8bf7\u6c42\u5c31\u4f1a\u628a\u7528\u6237\u7684token\u5e26\u7ed9\u670d\u52a1\u5668\uff0c\u8fd4\u56de\u7528\u6237\u7684\u4fe1\u606f\uff0c"),(0,a.kt)("p",null,"\u200b\thearder\u7ec4\u4ef6\u52a8\u6001\u5c55\u793a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'                            header\u7ec4\u4ef6\ncomputed:{\n        userName(){\n        //\u7528\u6237\u4fe1\u606f\uff0c\u52a8\u6001\u5c55\u793a\n            return this.$store.state.user.userInfo.name\n        }\n    }\n    \n                     <p v-if="!userName">\n                        <span>\u8bf7</span>\n                        <router-link to="/login">\u767b\u5f55</router-link>\n                        <router-link to="/register" class="register">\u514d\u8d39\u6ce8\u518c</router-link>\n                    </p>\n                    <p v-else>\n                        <a>{{userName}}</a>\n                        <a  class="register">\u9000\u51fa\u767b\u5f55</a>\n                    </p>\n')),(0,a.kt)("hr",null),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"\u6ce8\u610f"),"\uff1a"),(0,a.kt)("p",null,"\u200b\t\t\u7531\u4e8evuex\u5b58\u50a8\u6570\u636e\u662f\u975e\u6301\u4e45\u7684\uff0c"),(0,a.kt)("p",null,"\u200b\t\u6240\u4ee5\u9875\u9762\u4e00\u5237\u65b0\uff0ctoken\u53ca\u7528\u6237\u7684\u4fe1\u606f\u5c31\u4f1a\u6d88\u5931\uff0c\u6240\u4ee5\u8981\u5728\u767b\u5f55\u65f6\u628atoken\u4fdd\u5b58\u5230\u672c\u5730\uff08\u6301\u4e45\u5316\u5b58\u50a8\uff09\uff08\u4e5f\u53ef\u4ee5 \u5c01\u88c5\u4e3a\u4e24\u4e2a\u51fd\u6570\u4fdd\u5b58\u8bfb\u53d6token\uff09\uff0c\u8fd9\u6837\u9875\u9762\u5237\u65b0\u7684\u65f6\u5019token\u5c31\u4e0d\u4f1a\u6d88\u5931\uff0c\u670d\u52a1\u5668\u5c31\u4f1a\u8fd4\u56de\u76f8\u5e94\u7684\u7528\u6237\u7684\u6570\u636e"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"   async userLogin({commit},data){\n        let res = await reqUserLogin(data)\n        // console.log(res);\n        if(res.code == 200){\n            commit('USERLOGIN',res.data.token)\n        //\u628atoken\u6301\u4e45\u5316\u4fdd\u5b58\n            localStorage.setItem('TOKEN',res.data.token)\n            return 'ok'\n        }else{\n            return Promise.reject(new Error('falie'))\n        }\n    },\n    \n    //\u8fd9\u6837\u8bfb\u53d6token\uff0c\u672c\u5730\u8bfb\u53d6\u4e0d\u5230\u7684\u65f6\u5019token\u5c31\u662fnull\uff0c\u53ef\u4ee5\u8bfb\u53d6\u5230\u5c31\u662f\u670d\u52a1\u5668\u8fd4\u56de\u7684token\u7684\u503c\nconst state = {\n    code:'',\n    token:localStorage.getItem('TOKEN'),\n    userInfo:{}\n}\n")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"\u4f46\u662f")),(0,a.kt)("p",null,"\u200b\t\u8fd9\u6837\u53ea\u662f\u5728home\u7ec4\u4ef6\u4e2d\u624d\u4f1a\u5c55\u793a\u7528\u6237\u4fe1\u606f\uff0c\u5176\u4ed6\u7ec4\u4ef6\u4e2d\u8fd8\u662f\u83b7\u53d6\u4e0d\u5230\u4fe1\u606f"),(0,a.kt)("p",null,"1.\u53ef\u4ee5\u653e\u5728\u6bcf\u4e2a\u7ec4\u4ef6\u91cc\uff0c\u4f46\u662f\u592a\u9ebb\u70e6"),(0,a.kt)("p",null,"2.\u53ef\u4ee5\u653e\u5728app\u7ec4\u4ef6\u4e2d\uff0c\u4f46\u662f\u7b2c\u4e00\u6b21\u767b\u5f55\u7684\u65f6\u5019\u83b7\u53d6\u4e0d\u5230\u7528\u6237\u4fe1\u606f"),(0,a.kt)("h2",{id:"\u56db\u9000\u51fa\u767b\u5f55"},"\u56db\u3001\u9000\u51fa\u767b\u5f55"),(0,a.kt)("p",null,"\u9000\u51fa\u767b\u5f55\u9700\u8981\u505a\u7684\u4e8b\uff1a1\uff1a\u901a\u77e5\u670d\u52a1\u5668\u9000\u51fa\u767b\u5f55       2\uff1a\u5220\u9664\u9879\u76ee\u4e2d\u5173\u4e8e\u7528\u6237\u7684\u4fe1\u606f\uff08token\uff0cuserInfo\uff09"),(0,a.kt)("p",null,"1.\u5199\u8bf7\u6c42"),(0,a.kt)("p",null,"2.action\u8bf7\u6c42\uff0c\u5220\u9664\u7528\u6237\u4fe1\u606f"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"async logout({commit}){\n        let res = await reqLogout()\n        if(res.code == 200){\n            commit('CLEAR')\n            return 'OK'\n        }else{\n            return Promise.reject(new Error('faile'))\n        }\n    }\n    \n    CLEAR(state){\n        state.token = ''\n        state.userInfo = {}\n        localStorage.removeItem('TOKEN')\n    }\n")),(0,a.kt)("p",null,"3.\u8bbe\u7f6e\u70b9\u51fb\u4e8b\u4ef6\uff0c\u5199\u56de\u8c03\u6d3e\u53d1\u8bf7\u6c42"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"async logout(){\n            try {\n                await this.$store.dispatch(\"logout\")\n                this.$router.push('/home')\n            } catch (error) {\n                alert(error.message)\n            }\n        }\n")),(0,a.kt)("h2",{id:"\u4e94\u8def\u7531\u5b88\u536b"},"\u4e94\u3001\u8def\u7531\u5b88\u536b"),(0,a.kt)("p",null,"\u5168\u5c40\u8def\u7531\u5b88\u536b\t\t\t\t\t\u7ec4\u4ef6\u5185\u5b88\u536b\t\t\t\t\t\t\u8def\u7531\u72ec\u4eab\u5b88\u536b"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"1.\u60f3\u6765\u4ea4\u6613\u9875\u9762\uff0c\u5fc5\u987b\u662f\u4ece\u8d2d\u7269\u8f66\u9875\u9762\u6765\u7684\n2.\u60f3\u6765\u652f\u4ed8\u9875\u9762\uff0c\u5fc5\u987b\u662f\u4ece\u4ea4\u6613\u9875\u9762\u6765\u7684\n3.\u60f3\u6765\u652f\u4ed8\u6210\u529f\u9875\u9762\uff0c\u5fc5\u987b\u662f\u4ece\u652f\u4ed8\u9875\u9762\u6765\u7684\n//\u8def\u7531\u72ec\u4eab\u5b88\u536b\n        beforeEnter: (to, from, next) => {\n        //\u60f3\u6765\u4ea4\u6613\u9875\u9762\uff0c\u5fc5\u987b\u662f\u4ece\u8d2d\u7269\u8f66\u9875\u9762\u6765\u7684\n            if(from.path == '/shopcart'){\n                next()\n            }else{\n                next(flase)\n            }\n        }\n        \n        \n to\uff1a\u53ef\u4ee5\u83b7\u53d6\u5230\u4f60\u8981\u8df3\u8f6c\u5230\u54ea\u4e2a\u8def\u7531\u7684\u4fe1\u606f\n from\uff1a\u53ef\u4ee5\u83b7\u53d6\u5230\u9006\u4ece\u54ea\u4e2a\u8def\u7531\u800c\u6765\n next\uff1a\u653e\u884c\u51fd\u6570  next()\u653e\u884c  next(path)\u653e\u884c\u5230\u6307\u5b9a\u8def\u7531   next(false)\u4ece\u54ea\u91cc\u6765\u7684\u56de\u5230\u54ea\u91cc\u53bb\n")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"\u95ee\u9898")),(0,a.kt)("p",null,"1.\u8df3\u8f6c\u5230\u5176\u4ed6\u9875\u9762\u65f6\uff0c\u5237\u65b0\u9875\u9762\u8fd8\u662f\u83b7\u53d6\u4e0d\u5230\u7528\u6237\u4fe1\u606f"),(0,a.kt)("p",null,"2.\u767b\u5f55\u4e4b\u540e\u4e0d\u80fd\u518d\u8df3\u8f6c\u5230login\u9875\u9762"),(0,a.kt)("p",null,"\u89e3\u51b3\u529e\u6cd5\uff1a1.\u5728\u524d\u7f6e\u8def\u7531\u5b88\u536b\u4e2d\uff0c\u5224\u65ad\u8df3\u8f6c\u5230\u5176\u4ed6\u9875\u9762\u7684\u65f6\u5019\uff0c\u4ed3\u5e93\u4e2d\u6709\u6ca1\u6709\u7528\u6237\u7684\u4fe1\u606f\uff0c\u6709\u5c31\u8df3\u8f6c\uff0c\u6ca1\u6709\u5c31\u6d3e\u53d1action\u8bf7\u6c42\u83b7\u53d6\u5230\u7528\u6237\u4fe1\u606f\u518d\u8df3\u8f6c\u3002"),(0,a.kt)("p",null,"2.\u5224\u65ad\u4ed3\u5e93\u4e2d\u6709\u6ca1\u6709token\uff0c\u5982\u679c\u6ca1\u6709token\uff0c\u5c31\u4e00\u5b9a\u6ca1\u6709\u767b\u5f55\uff0c\u5982\u679c\u6709token\u90a3\u5c31\u662f\u767b\u5f55\u4e86\uff0c\u5c31\u4e0d\u8ba9\u5176\u8df3\u8f6c\u5230login\u9875\u9762\uff0c\u800c\u662f\u8fd4\u56dehome\u7ec4\u4ef6\u3002"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"router.beforeEach(async (to,from,next)=>{\nlet token = store.state.user.token\nlet name = store.state.user.userInfo.name\n//\u767b\u5f55\u4e86\nif(token){\n    //\u767b\u5f55\u4e86\uff0c\u800c\u4e14\u53bb\u7684\u662f\u767b\u5f55\u9875\u9762\n    if(to.path == '/login'){\n        next('/home')\n     //\u767b\u5f55\u4e86\uff0c\u4f46\u662f\u53bb\u7684\u4e0d\u662f\u767b\u5f55\u9875\u9762\n    }else{\n    //\u5982\u679c\u6709\u7528\u6237\u4fe1\u606f\n        if(name){\n            next()\n        }else{\n        //\u5982\u679c\u6ca1\u6709\u7528\u6237\u4fe1\u606f\uff0c\u5c31\u6d3e\u53d1\u8bf7\u6c42\u83b7\u53d6\u7528\u6237\u4fe1\u606f\uff0c\u8fd9\u6837header\u4e0a\u7684\u4fe1\u606f\u5c31\u4f1a\u5c55\u793a\n            try {\n                await store.dispatch('getUserInfo')\n                next()\n              //\u5931\u8d25\u4e86\u5c31\u4ee3\u8868token\u5931\u6548\u4e86\uff0c\u9700\u8981\u91cd\u65b0\u767b\u5f55   1.\u6d3e\u53d1\u9000\u51fa\u767b\u5f55\u7684action 2.\u8df3\u8f6c\u5230\u767b\u5f55\u754c\u9762\n            } catch (error) {\n                await store.dispatch('logout')\n                next('/login')\n            }\n        }\n    }\n}else{\n    //\u672a\u767b\u5f55\u4e0d\u80fd\u53bb\u4ea4\u6613\u76f8\u5173\u7684\uff0c\u652f\u4ed8\u76f8\u5173\u7684\uff0c\u4e2a\u4eba\u4e2d\u5fc3\n    let toPath = to.path\n    if(toPath.indexOf('/trade') != -1 || toPath.indexOf('/pay') != -1 || toPath.indexOf('/center') != -1){\n      //\u8fd9\u91cc\u662f\u5c06\u60f3\u8981\u53bb\u4f46\u662f\u6ca1\u53bb\u6210\u7684\u8def\u5f84\u4fdd\u5b58\u5728query\u53c2\u6570\u4e2d*********\u5c0f\u6280\u5de7********\n        next('/login?toPath='+toPath)\n    }else{\n        next()\n    }\n}\n})\n\n//\u5728\u767b\u5f55\u9875\u9762\uff0c\u70b9\u51fb\u767b\u5f55\u6309\u94ae\u65f6\uff0c\u5224\u65ad\u8def\u7531\u662f\u5426\u6709query\u53c2\u6570\uff0c\u6709\u5219\u8df3\u8f6c\u5230query\u53c2\u6570\u6307\u5b9a\u7684\u5730\u65b9\uff0c\u6ca1\u6709\u5219\u8df3\u8f6c\u5230\u2018/home\u2019\nlet toPath = this.$route.query.toPath || '/home'\n this.$router.push(toPath)\n")),(0,a.kt)("h1",{id:"19\u8ba2\u5355\u9875\u9762"},"19.\u8ba2\u5355\u9875\u9762"),(0,a.kt)("h2",{id:"\u4e00\u52a8\u6001\u5c55\u793a"},"\u4e00\u3001\u52a8\u6001\u5c55\u793a"),(0,a.kt)("p",null,"\u200b\t1.\u5f15\u5165\u4ea4\u6613\u9759\u6001\u9875\u9762\uff0c\u6ce8\u518c\u4ea4\u6613\u7ec4\u4ef6\uff0c\u8bbe\u7f6e\u8def\u7531\uff0c\u8bbe\u7f6e\u8def\u7531\u8df3\u8f6c"),(0,a.kt)("p",null,"\u200b\t2.\u5199\u8bf7\u6c42\uff0cvuex\uff0c\u83b7\u53d6\u5230\u670d\u52a1\u5668\u8fd4\u56de\u7684\u4fe1\u606f\uff0c\u52a8\u6001\u5c55\u793a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'//\u83b7\u53d6\u5230\u670d\u52a1\u5668\u8fd4\u56de\u7684\u5730\u5740\u6570\u636e\n...mapState({\n        addressInfo:state=>state.trade.address\n      }),\n      \n //\u52a8\u6001\u5c55\u793a\n  <div class="address clearFix" v-for="address in addressInfo" :key="address.id">\n        <span class="username" :class="{selected:address.isDefault == 1}">{{address.consignee}}</span>\n        <p  @click="changeIsDefault(address)">\n          <span class="s1">{{address.fullAddress}}</span>\n          <span class="s2">{{address.phoneNum}}</span>\n          <span class="s3" v-show="address.isDefault == 1">\u9ed8\u8ba4\u5730\u5740</span>\n        </p>\n      </div>\n      \n //\u4fee\u6539\u9ed8\u8ba4\u5730\u5740\uff08\u6392\u4ed6\uff09\n      changeIsDefault(address){\n        // console.log(address);\n        this.addressInfo.forEach(item => {\n          item.isDefault = 0\n        });\n        address.isDefault = 1\n      }\n      \n  //\u8ba1\u7b97\u51fa\u8981\u5bc4\u51fa\u7684\u5730\u5740\uff0c\u5728\u9875\u9762\u4e0b\u65b9\u5c55\u793a\n      userDefaultAddress(){\n        //find\uff1a\u67e5\u627e\u6570\u7ec4\u4e2d\u7b26\u5408\u6761\u4ef6\u7684\u5bf9\u8c61\uff0c\u8fd4\u56de\n        return this.addressInfo.find(item=>item.isDefault==1)||{}\n        //\u8fd9\u91cc\u8ba1\u7b97\u7684\u65f6\u5019addressInfo\u8fd8\u6709\u53ef\u80fd\u662f\u4e2a\u7a7a\u6570\u7ec4\uff0c\u6240\u4ee5\u91cc\u9762\u7684\u5c5e\u6027\u53ef\u80fd\u662fundefined\uff0c\u8981\u6dfb\u52a0\u4e00\u4e2a\u515c\u5e95\u7684\uff0c\u9632\u6b62\u5047\u62a5\u9519\n      }\n')),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"//\u83b7\u53d6\u5230\u670d\u52a1\u5668\u8fd4\u56de\u7684\u8ba2\u5355\u6570\u636e\n//\u52a8\u6001\u5c55\u793a\uff0c\u5f88\u7b80\u5355\u5c31\u4e0d\u505a\u7b14\u8bb0\u4e86\n")),(0,a.kt)("h2",{id:"\u4e8c\u63d0\u4ea4\u8ba2\u5355"},"\u4e8c\u3001\u63d0\u4ea4\u8ba2\u5355"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"1.\u6ce8\u610f"),"\uff1a\u4ece\u6b64\u4e0d\u518d\u4f7f\u7528vuex\u5199\u8bf7\u6c42\uff0c\u5728\u7ec4\u4ef6\u4e2d\u5199\uff0c\u6240\u4ee5\u4e3a\u4e86\u907f\u514d\u7ec4\u4ef6\u4e2d\u591a\u6b21\u5f15\u5165\u8bf7\u6c42\u51fd\u6570"),(0,a.kt)("p",null,"\u6240\u4ee5\u5728\u5165\u53e3\u6587\u4ef6\u4e2d\u3010main.js\u3011\u4e2d\uff0c\u5c06\u8bf7\u6c42\u51fd\u6570\u5f15\u5230vue\u7684\u539f\u578b\u5bf9\u8c61\u4e0a\uff0c\u8fd9\u6837\u6240\u6709\u7ec4\u4ef6\u5c31\u90fd\u53ef\u4ee5\u83b7\u53d6\u5230\u8bf7\u6c42\u51fd\u6570\uff08",(0,a.kt)("strong",{parentName:"p"},"\u548c\u5168\u5c40\u4e8b\u4ef6\u603b\u7ebf\u7c7b\u4f3c"),"\uff09"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"//\u7edf\u4e00\u5f15\u5165\u6240\u6709\u66b4\u9732\u7684\u63a5\u53e3\nimport * as API from '@/api'\n\n//\u628aapi\u6587\u4ef6\u5939\u4e2d\u7684\u8bf7\u6c42\u51fd\u6570\u653e\u5728vue\u7ec4\u5efa\u7684\u539f\u578b\u5bf9\u8c61\u4e0a\uff0c\u8fd9\u6837\u6240\u6709\u7684\u7ec4\u4ef6\u5c31\u90fd\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\n    Vue.prototype.$API = API\n")),(0,a.kt)("p",null,"2.\u5199\u8bf7\u6c42\uff0c\u7ed1\u5b9a\u63d0\u4ea4\u8ba2\u5355\u6309\u94ae\u7684\u4e8b\u4ef6\u56de\u8c03\uff0c"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'async submitOrder() {\n      let { tradeNo } = this.orderInfo;\n      let data = {\n        consignee: this.userDefaultAddress.consignee,\n        consigneeTel: this.userDefaultAddress.phoneNum,\n        deliveryAddress: this.userDefaultAddress.fullAddress,\n        paymentWay: "ONLINE",\n        orderComment: this.message,\n        orderDetailList: this.orderInfo.detailArrayList\n      };\n      let res = await this.$API.reqSubmitOrder(tradeNo,data);\n      if(res.code == 200){\n        this.orderId = res.data\n        //\u6210\u529f\u8def\u7531\u8df3\u8f6c\u4f20\u53c2\n        this.$router.push(`/pay?orderId=${this.orderId}`)\n      }else{\n        alert(res.message)\n      }\n    },\n')),(0,a.kt)("h1",{id:"20\u652f\u4ed8\u9875\u9762"},"20.\u652f\u4ed8\u9875\u9762"),(0,a.kt)("p",null,"1.\u63a5\u6536\u4f20\u5165\u7684\u8ba2\u5355\u53f7\uff0c\u5e26\u7740\u8ba2\u5355\u53f7\u53d1\u8bf7\u6c42\uff0c\u63a5\u6536\u5230\u670d\u52a1\u5668\u8fd4\u56de\u7684\u6570\u636e\uff0c\u66f4\u6539\u9875\u9762\u4e2d\u9700\u8981\u52a8\u6001\u5c55\u793a\u7684\u6570\u636e"),(0,a.kt)("p",null,"2.\u4f7f\u7528\u997f\u4e86\u4e48UI\u7ec4\u4ef6\u5e93\uff0c\u8bbe\u8ba1\u652f\u4ed8\u5f39\u7a97\u3010\u6d89\u53ca\u5230\u997f\u4e86\u4e48\u7ec4\u4ef6\u5e93\uff0c\u548c",(0,a.kt)("strong",{parentName:"p"},"qrcode"),"\u4e8c\u7ef4\u7801\u751f\u6210\u63d2\u4ef6\u3011\u3010\u4f7f\u7528\u89c1\u5b98\u65b9\u6587\u6863\u3011"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'//\u7ed9\u7acb\u5373\u652f\u4ed8\u8bbe\u7f6e\u70b9\u51fb\u4e8b\u4ef6\n    async open() {\n      //\u751f\u6210\u4e8c\u7ef4\u7801\u56fe\u7247\u5730\u5740\n      let url = await QRCode.toDataURL(this.payInfo.codeUrl)\n      this.$alert(`<img src=${url} />`, "\u8bf7\u4f60\u4f7f\u7528\u5fae\u4fe1\u652f\u4ed8", {\n        dangerouslyUseHTMLString: true,\n        showCancelButton:true,\n        center:true,\n        cancelButtonText:\'\u652f\u4ed8\u65f6\u9047\u5230\u56f0\u96be\',\n        confirmButtonText:\'\u652f\u4ed8\u6210\u529f\',\n        showClose:false,\n//\u8bbe\u7f6e\u70b9\u51fb\u786e\u5b9a\u548c\u53d6\u6d88\u6309\u94ae\u7684\u4e1a\u52a1\u903b\u8f91\n        beforeClose: (type, instance, done) => {\n          //type:\u533a\u5206\u53d6\u6d88\u6309\u94ae\u53ca\u6210\u529f\u6309\u94ae\n          //instance\uff1a\u5f53\u524d\u7ec4\u4ef6\u5b9e\u4f8b\n          //done:\u5173\u95ed\u5f39\u7a97\u7684\u65b9\u6cd5\n          if (type == "cancel") {\n            alert("\u8bf7\u8054\u7cfb\u7ba1\u7406\u5458");\n            clearInterval(this.timer);\n            this.timer = null;\n            done();\n          } else {\n            if (this.code == 200) {\n              clearInterval(this.timer);\n              this.timer = null;\n              done();\n              this.$router.push("/paySuccess");\n            }\n          }\n      });\n      //\u4f60\u9700\u8981\u77e5\u9053\u8ba2\u5355\u652f\u4ed8\u7684\u6210\u529f\u6216\u5931\u8d25\n      //\u652f\u4ed8\u6210\u529f\uff0c\u8def\u7531\u8df3\u8f6c\uff0c\u652f\u4ed8\u5931\u8d25\uff0c\u63d0\u793a\u4fe1\u606f\n      //\u5982\u679c\u6ca1\u6709\u5b9a\u65f6\u5668\uff0c\u5219\u5f00\u542f\u4e00\u4e2a\u5b9a\u65f6\u5668\n//\u82e5\u626b\u7801\u76f4\u63a5\u8df3\u8f6c\n      if (!this.timer) {\n        this.timer = setInterval(async () => {\n          let res = await this.$API.reqPayStatus(this.orderId);\n          if (res.code == 200) {\n            //\u652f\u4ed8\u6210\u529f\u8981\u505a\uff1a1.\u6e05\u9664\u5b9a\u65f6\u5668  2.\u5173\u95ed\u7a97\u53e3  3.\u8df3\u8f6c\u8def\u7531\n            clearInterval(this.timer);\n            this.timer = null;\n            //\u4fdd\u5b58code\uff0c\u662f\u4e3a\u4e86\u9632\u6b62\u7528\u6237\u6ca1\u6709\u652f\u4ed8\u5374\u70b9\u51fb\u652f\u4ed8\u6210\u529f\uff0c\u8fdb\u884c\u8def\u7531\u8df3\u8f6c\n            this.code = res.code;\n            this.$msgbox.close();\n            this.$router.push("/paySuccess");\n          }\n        }, 1000);\n    },\n')),(0,a.kt)("p",null,"3.\u652f\u4ed8\u6210\u529f\u9875\u9762\uff0c\u70b9\u51fb\u67e5\u770b\u8ba2\u5355\u8df3\u8f6c\u5230\u4e2a\u4eba\u9875\u9762\uff0c\u70b9\u51fb\u7ee7\u7eed\u8d2d\u7269\u8df3\u8f6c\u5230\u4e3b\u9875"),(0,a.kt)("h1",{id:"21\u4e2a\u4eba\u4fe1\u606f\u9875\u9762"},"21.\u4e2a\u4eba\u4fe1\u606f\u9875\u9762"),(0,a.kt)("h2",{id:"1\u4e8c\u7ea7\u5b50\u8def\u7531\u8bbe\u7f6e"},"1.\u4e8c\u7ea7\u5b50\u8def\u7531\u8bbe\u7f6e"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"//\u5f15\u5165\u4e8c\u7ea7\u5b50\u7ec4\u4ef6\nimport .....\n//\u6ce8\u518c\u8def\u7531\n{   \n        name:'center',\n        path:'/center',\n        component:Center,\n        meta:{\n            showFooter:true\n        },\n        children:[\n            {\n            //\u8fd9\u91cc\u7684path\u8981\u4e48\u5199 /center/myOrder\n                path:'myOrder',\n                component:MyOrder\n            },\n            {\n                path:'groupOrder',\n                component:GroupOrder\n            },\n            //\u4e8c\u7ea7\u8def\u7531\u91cd\u5b9a\u5411\n            {\n                path:'/center',\n                redirect:'/center/myOrder'\n            }\n        ]\n    },\n")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"\u6ce8\u610f"),"      \u4e0d\u8981\u5fd8\u8bb0router-link    \u548c     router-view"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'<router-link to="/center/myOrder">\u6211\u7684\u8ba2\u5355</router-link>\n\n\x3c!-- \u4e8c\u7ea7\u8def\u7531\u51fa\u53e3\u4f4d\u7f6e --\x3e\n  <router-view></router-view>\n')),(0,a.kt)("h2",{id:"2\u6211\u7684\u8ba2\u5355\u7ec4\u4ef6\u7684\u52a8\u6001\u5c55\u793a"},"2.\u6211\u7684\u8ba2\u5355\u7ec4\u4ef6\u7684\u52a8\u6001\u5c55\u793a"),(0,a.kt)("p",null,"\u200b\t1.\u5199\u8bf7\u6c42\uff0c\u8bf7\u6c42\u9700\u8981\u5e26\u53c2\u6570\uff0c\u6240\u4ee5\u5728\u7ec4\u4ef6\u5185\u8bbe\u7f6e\u4e24\u4e2a\u54cd\u5e94\u5f0f\u7684\u6570\u636e\uff0c\u5e26\u7ed9\u670d\u52a1\u5668"),(0,a.kt)("p",null,"\u200b\t2.\u6211\u7684\u8ba2\u5355\u7ec4\u4ef6mounted\u65f6\uff0c\u5411\u670d\u52a1\u5668\u53d1\u8bf7\u6c42\uff0c\u83b7\u53d6\u4e2a\u4eba\u4e2d\u5fc3\u7684\u8ba2\u5355\u6570\u636e\uff0c\u5728\u7ec4\u4ef6\u5185\u53d1\u8bf7\u6c42\u3010\u628a\u8bf7\u6c42\u51fd\u6570\u5c01\u88c5\u4e3a\u4e00\u4e2a\u51fd\u6570\uff0c\u5728\u7ec4\u4ef6mounted\u7684\u65f6\u5019\u8c03\u7528\u3011\uff0c\u83b7\u53d6\u6570\u636e\uff0c\u52a8\u6001\u5c55\u793a\u6570\u636e"),(0,a.kt)("p",null,"\u200b\t3.\u8fd9\u91cc\u6d89\u53ca\u5230\u4e86\u5408\u5e76\u5355\u5143\u683c\uff0c\u4e00\u4e2a\u8ba2\u5355\u4f1a\u4e70\u5f88\u591a\u7684\u4ea7\u54c1\uff0c\u4f46\u662f\u6700\u7ec8\u7684\u6570\u636e\u8fd8\u662f\u8981\u5408\u5e76\u5355\u5143\u683c\u7684\uff0c\u8fd9\u91cc\u4f1a\u904d\u5386\u591a\u4e2a\u6570\u636e\uff0c\u4f46\u662f\u53ea\u5c55\u793a\u6570\u7ec4\u91cc\u7684\u7b2c\u4e00\u4e2a\u7684\u6570\u636e\u5c31\u4e0d\u4f1a\u51fa\u73b0\u4e00\u4e2a\u8ba2\u5355\u51fa\u73b0\u591a\u4e2a\u6700\u7ec8\u6570\u636e\u7684\u60c5\u51b5"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'<td :rowspan="order.orderDetailList.length" v-if="index == 0" width="13%" class="center">\n   ....\n</td>\n<td :rowspan="order.orderDetailList.length" v-if="index == 0" width="8%" class="center">\n .....\n</td>\n')),(0,a.kt)("h2",{id:"3\u5f15\u5165\u5168\u5c40\u7ec4\u4ef6\u5206\u9875\u5668"},"3.\u5f15\u5165\u5168\u5c40\u7ec4\u4ef6\u5206\u9875\u5668"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'<FsPagination\n            :pageNo="page"\n            :pageSize="limit"\n            :total="myOrderList.total"\n            :continues="5"\n            @getPageNo = \'getPageNo\'\n          />\n          \n  getPageNo(page){\n            this.page = page\n            this.getMyOrderList()\n        }\n')),(0,a.kt)("h1",{id:"22\u56fe\u7247\u61d2\u52a0\u8f7d"},"22.\u56fe\u7247\u61d2\u52a0\u8f7d"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"1.\u4e0b\u8f7dlazyload\n2.\u4f7f\u7528\u6ce8\u518c\n//\u5f15\u5165\u61d2\u52a0\u8f7d\u56fe\u7247\nimport vueLoge from '@/assets/logo.png'\n//\u5f15\u5165\u56fe\u7247\u61d2\u52a0\u8f7d\nimport VueLazyload from 'vue-lazyload'\nVue.use(VueLazyload,{\n  //\u61d2\u52a0\u8f7d\u9ed8\u8ba4\u7684\u56fe\u7247\n  loading:vueLoge\n})\n3.\u5728\u9700\u8981\u61d2\u52a0\u8f7d\u7684\u5730\u65b9\uff0c\u8bbe\u7f6e\u56fe\u7247\n<img v-lazy=\"good.defaultImg\" />\n")),(0,a.kt)("h1",{id:"23\u6ce8\u518c\u7684\u8868\u5355\u9a8c\u8bc1"},"23.\u6ce8\u518c\u7684\u8868\u5355\u9a8c\u8bc1"),(0,a.kt)("p",null,"1\uff1a\u5b89\u88c5vee-valadite\uff0c\u5b89\u88c5\u7248\u672c@2\n2\uff1a\u5728plugins\u6587\u4ef6\u5939\u4e2d\u521b\u5efa\u4e00\u4e2avalidate.js","[\u4e13\u95e8\u6ce8\u518cvee-valadite]","\n3\uff1a\u6ce8\u518c\u63d2\u4ef6\n4\uff1a\u6ce8\u518c\u63d2\u4ef6\u7684\u65f6\u5019\uff0c\u7528\u4e2d\u6587\uff0c\u4ee5\u53ca\u9700\u8981\u9a8c\u8bc1\u7684\u5b57\u6bb5\u3010\u7528\u4e2d\u6587\u663e\u793a\u63d0\u793a\u5f62\u5f0f\u3011\n5\uff1a\u5728\u5165\u53e3\u6587\u4ef6\u9700\u8981\u5f15\u5165\u6267\u884c\u4e00\u6b21\n6:\u4f7f\u7528vee-valadiate\u63d2\u4ef6"),(0,a.kt)("p",null,"\u5728validate.js\u6587\u4ef6\u4e2d"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"import Vue from 'vue'\nimport VeeValidate from 'vee-validate'\nimport zh_CN from 'vee-validate/dist/locale/zh_CN'   // \u5f15\u5165\u4e2d\u6587 message\nVue.use(VeeValidate)\n\n//\u8868\u5355\u9a8c\u8bc1\nVeeValidate.Validator.localize('zh_CN', {\n    messages: {\n        ...zh_CN.messages,\n        is: (field) => `${field}\u5fc5\u987b\u4e0e\u5bc6\u7801\u76f8\u540c` // \u4fee\u6539\u5185\u7f6e\u89c4\u5219\u7684 message\uff0c\u8ba9\u786e\u8ba4\u5bc6\u7801\u548c\u5bc6\u7801\u76f8\u540c\n    },\n    attributes: { // \u7ed9\u6821\u9a8c\u7684 field \u5c5e\u6027\u540d\u6620\u5c04\u4e2d\u6587\u540d\u79f0\n        phone: '\u624b\u673a\u53f7',\n        code: '\u9a8c\u8bc1\u7801',\n        password: '\u5bc6\u7801',\n        password1: '\u786e\u8ba4\u5bc6\u7801',\n        agree: '\u534f\u8bae'\n    }\n})\n//\u81ea\u5b9a\u4e49\uff0c\u7528\u4e8e\u52fe\u9009\u534f\u8bae\u7684\u5224\u65ad\nVeeValidate.Validator.extend('agree', {\n    validate: value => {\n        return value\n    },\n    getMessage: field => field + '\u5fc5\u987b\u540c\u610f'\n})\n")),(0,a.kt)("p",null,"\u5728\u7ec4\u4ef6\u4e2d\uff0c\u9700\u8981\u8fdb\u884c\u8868\u5355\u9a8c\u8bc1\u7684\u5730\u65b9"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'<input\n          placeholder="\u8bf7\u786e\u8ba4\u4f60\u7684\u5bc6\u7801"\n          v-model="password1"\n          name="password1"\n          v-validate="{ required: true, regex: \u6b63\u5219\u8868\u8fbe\u5f0f  \u6216\u8005is: password//\u548c\u5bc6\u7801\u8fdb\u884c\u6bd4\u5bf9 }"\n          :class="{ invalid: errors.has(\'password1\') }"\n        />\n        \n        \n<span class="error-msg">{{ errors.first("password1") }}</span>\n\n\n//\u534f\u8bae\u52fe\u9009\n<input\n          type="checkbox"\n          v-model="agree"\n          name="agree"\n          v-validate="{ required: true, agree: true }"\n          :class="{ invalid: errors.has(\'agree\') }"\n        />\n        \n <span class="error-msg">{{ errors.first("agree") }}</span>\n \n \n//\u70b9\u51fb\u6ce8\u518c\u6309\u94ae\u65f6\uff0c\nconst success = await this.$validator.validateAll();//\u786e\u5b9a\u6240\u6709\u7684\u8868\u5355\u5df2\u7ecf\u9a8c\u8bc1\u6210\u529f\u4e86 success\u8fd4\u56detrue\u662f\u9a8c\u8bc1\u6210\u529f\u53cd\u4e4b\u5931\u8d25\n      if (success) {\n      //\u5982\u679c\u8868\u5355\u9a8c\u8bc1\u5168\u90e8\u901a\u8fc7\u4e86\uff0c\u624d\u53d1\u8bf7\u6c42\n      }\n')),(0,a.kt)("h1",{id:"24\u8def\u7531\u61d2\u52a0\u8f7d"},"24.\u8def\u7531\u61d2\u52a0\u8f7d"),(0,a.kt)("p",null,"\u7528\u6237\u8bbf\u95ee\u54ea\u4e2a\u8def\u7531\u7ec4\u4ef6\u65f6\uff0c\u7ec4\u4ef6\u624d\u52a0\u8f7d\uff0c\u8fd9\u6837\u4f1a\u53d8\u5f97\u5341\u5206\u9ad8\u6548"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"//\u6ce8\u518c\u7ec4\u4ef6\u7684\u65f6\u5019\n{\n        path:'/home',\n        // component:FsHome,\n        component:()=>import('@/pages/Home'),\n        meta:{\n            showFooter:true\n        }\n    },\n")),(0,a.kt)("p",null,"npm run build \u6253\u5305\u7684\u65f6\u5019\uff0c\u5982\u679c\u4e0d\u9700\u8981map\u6587\u4ef6\uff0c\u53ef\u4ee5\u5728vue.config.js\u6587\u4ef6\u4e2d\u914d\u7f6e\uff1aproductionSourceMap:false;"),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"C:%5CUsers%5C48399%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20221110190015262.png",alt:"image-20221110190015262"})),(0,a.kt)("p",null,"6.nginx\u670d\u52a1\u5668\u8dd1\u8d77\u6765"),(0,a.kt)("p",null,"service nginx start"))}d.isMDXComponent=!0}}]);